<?xml version="1.0" encoding="utf-8"?>
<feed xmlns:blogChannel="http://backend.userland.com/blogChannelModule" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:pingback="http://madskills.com/public/xml/rss/module/pingback/" xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/" xmlns:wfw="http://wellformedweb.org/CommentAPI/" xmlns:slash="http://purl.org/rss/1.0/modules/slash/" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" xmlns="http://www.w3.org/2005/Atom">
  <id>http://smarteas.net/</id>
  <title>AgileEAS.NET SOA中间件平台/敏捷软件开发平台</title>
  <updated>2015-04-29T01:55:30+00:00</updated>
  <link href="http://smarteas.net/" />
  <link rel="self" href="http://smarteas.net/syndication.axd?format=atom" />
  <subtitle>AgileEAS.NET SOA中间件平台/敏捷软件开发平台致力于中小企业快速应用开发</subtitle>
  <author>
    <name>AgileEAS.NET</name>
  </author>
  <generator uri="http://dotnetblogengine.net/" version="1.0.0.0">BlogEngine.Net Syndication Generator</generator>
  <blogChannel:blogRoll>http://smarteas.net/opml.axd</blogChannel:blogRoll>
  <blogChannel:blink>http://www.blogyi.net/syndication.axd</blogChannel:blink>
  <dc:creator>AgileEAS.NET</dc:creator>
  <dc:description>AgileEAS.NET SOA中间件平台/敏捷软件开发平台致力于中小企业快速应用开发</dc:description>
  <dc:language>en-US</dc:language>
  <dc:title>AgileEAS.NET SOA中间件平台/敏捷软件开发平台</dc:title>
  <geo:lat>0.000000</geo:lat>
  <geo:long>0.000000</geo:long>
  <entry>
    <id>http://smarteas.net/post/2015/04/29/用于主题检测的临时日志(aeae37ee-83f1-425e-8cfb-00b71ef81c76-3bfe001a-32de-4114-a6b4-4005b770f6d7).aspx</id>
    <title>用于主题检测的临时日志(aeae37ee-83f1-425e-8cfb-00b71ef81c76 - 3bfe001a-32de-4114-a6b4-4005b770f6d7)</title>
    <updated>2015-04-29T01:55:30+00:00</updated>
    <link rel="self" href="http://smarteas.net/post.aspx?id=52b3a19e-0f3c-4a67-b2c0-c31e0bef9a4d" />
    <link href="http://smarteas.net/post/2015/04/29/用于主题检测的临时日志(aeae37ee-83f1-425e-8cfb-00b71ef81c76-3bfe001a-32de-4114-a6b4-4005b770f6d7).aspx" />
    <author>
      <name>james</name>
    </author>
    <summary type="html">&lt;p&gt;这是一个未删除的临时日志。请手动删除它。(ed034ea9-1428-4702-86ae-82b738663dce - 3bfe001a-32de-4114-a6b4-4005b770f6d7)&lt;/p&gt;</summary>
    <published>2015-04-29T01:55:30+00:00</published>
    <link rel="related" href="http://smarteas.net/post/2015/04/29/用于主题检测的临时日志(aeae37ee-83f1-425e-8cfb-00b71ef81c76-3bfe001a-32de-4114-a6b4-4005b770f6d7).aspx#comment" />
    <dc:publisher>james</dc:publisher>
    <pingback:server>http://smarteas.net/pingback.axd</pingback:server>
    <pingback:target>http://smarteas.net/post.aspx?id=52b3a19e-0f3c-4a67-b2c0-c31e0bef9a4d</pingback:target>
    <slash:comments>0</slash:comments>
    <trackback:ping>http://smarteas.net/trackback.axd?id=52b3a19e-0f3c-4a67-b2c0-c31e0bef9a4d</trackback:ping>
    <wfw:comment>http://smarteas.net/post/2015/04/29/用于主题检测的临时日志(aeae37ee-83f1-425e-8cfb-00b71ef81c76-3bfe001a-32de-4114-a6b4-4005b770f6d7).aspx#comment</wfw:comment>
    <wfw:commentRss>http://smarteas.net/syndication.axd?post=52b3a19e-0f3c-4a67-b2c0-c31e0bef9a4d</wfw:commentRss>
  </entry>
  <entry>
    <id>http://smarteas.net/post/2015/04/29/用于主题检测的临时日志(e0718c1b-8967-4e30-8af0-05e7510b3b20-3bfe001a-32de-4114-a6b4-4005b770f6d7).aspx</id>
    <title>用于主题检测的临时日志(e0718c1b-8967-4e30-8af0-05e7510b3b20 - 3bfe001a-32de-4114-a6b4-4005b770f6d7)</title>
    <updated>2015-04-29T01:46:44+00:00</updated>
    <link rel="self" href="http://smarteas.net/post.aspx?id=fb9c9867-c5e8-4998-a600-16496946428e" />
    <link href="http://smarteas.net/post/2015/04/29/用于主题检测的临时日志(e0718c1b-8967-4e30-8af0-05e7510b3b20-3bfe001a-32de-4114-a6b4-4005b770f6d7).aspx" />
    <author>
      <name>james</name>
    </author>
    <summary type="html">&lt;p&gt;这是一个未删除的临时日志。请手动删除它。(608b0326-0c55-4678-9827-17a0e9b1f218 - 3bfe001a-32de-4114-a6b4-4005b770f6d7)&lt;/p&gt;</summary>
    <published>2015-04-29T01:46:44+00:00</published>
    <link rel="related" href="http://smarteas.net/post/2015/04/29/用于主题检测的临时日志(e0718c1b-8967-4e30-8af0-05e7510b3b20-3bfe001a-32de-4114-a6b4-4005b770f6d7).aspx#comment" />
    <dc:publisher>james</dc:publisher>
    <pingback:server>http://smarteas.net/pingback.axd</pingback:server>
    <pingback:target>http://smarteas.net/post.aspx?id=fb9c9867-c5e8-4998-a600-16496946428e</pingback:target>
    <slash:comments>0</slash:comments>
    <trackback:ping>http://smarteas.net/trackback.axd?id=fb9c9867-c5e8-4998-a600-16496946428e</trackback:ping>
    <wfw:comment>http://smarteas.net/post/2015/04/29/用于主题检测的临时日志(e0718c1b-8967-4e30-8af0-05e7510b3b20-3bfe001a-32de-4114-a6b4-4005b770f6d7).aspx#comment</wfw:comment>
    <wfw:commentRss>http://smarteas.net/syndication.axd?post=fb9c9867-c5e8-4998-a600-16496946428e</wfw:commentRss>
  </entry>
  <entry>
    <id>http://smarteas.net/post/2014/08/21/分布式消息总线，基于NET-Socket-Tcp的发布-订阅框架之离线支持，附代码下载.aspx</id>
    <title>分布式消息总线，基于.NET Socket Tcp的发布-订阅框架之离线支持，附代码下载</title>
    <updated>2014-08-21T03:24:00+00:00</updated>
    <link rel="self" href="http://smarteas.net/post.aspx?id=d0094459-49c3-41fb-98ac-b97fb4ac5b63" />
    <link href="http://smarteas.net/post/2014/08/21/分布式消息总线，基于NET-Socket-Tcp的发布-订阅框架之离线支持，附代码下载.aspx" />
    <author>
      <name>james</name>
    </author>
    <summary type="html">&lt;h1&gt;一、分布式消息总线以及基于Socket的实现&lt;/h1&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 在前面的&lt;a href="http://www.cnblogs.com/eastjade/p/3911652.html"&gt;分享一个分布式消息总线，基于.NET Socket Tcp的发布-订阅框架，附代码下载&lt;/a&gt;一文之中给大家分享和介绍了一个极其简单也非常容易上的基于.NET Socket Tcp 技术实现的分布消息总线，也是一个简单的发布订阅框架：&lt;/p&gt;
&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201408/211050005039513.png"&gt;&lt;img title="image" alt="image" style="display: inline;" src="http://images.cnitblog.com/blog/19020/201408/211050021906530.png" width="873" height="428" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; 并且以案例的形式为大家演示了如何使用这个分布式消息总线架构发布订阅架构模式的应用程序，在得到各位同仁的反馈的同时，大家也非常想了解订阅者离线的情况，即支持离线构发布订阅框架。&lt;/p&gt;
&lt;h1&gt;二、离线架构&lt;/h1&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 不同于订阅者、发布者都同时在线的情况，支持订阅者离线，架构将有所变化，如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201408/211050027843644.png"&gt;&lt;img title="image" alt="image" style="display: inline;" src="http://images.cnitblog.com/blog/19020/201408/211050033158973.png" width="892" height="540" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 也会比原先的结构将更加复杂，其中需要处理以下两个关键点：&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 1）订阅者的持久化存储。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 2）订阅者离线之后其所订阅消息的持久存储。&lt;/p&gt;
&lt;h1&gt;三、解决方案&lt;/h1&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 为解决消息总线的离线支持机制，我们在Socket 框架之中增加了一个接口&lt;span style="font-size: large; color: #ff0000;"&gt;&lt;strong&gt;ISubscribeStorager&lt;/strong&gt;&lt;/span&gt;：&lt;/p&gt;
&lt;div style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;" id="codeSnippetWrapper"&gt;
&lt;div style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;" id="codeSnippet"&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum1"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum2"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Collections.Generic;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum3"&gt;   3:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Linq;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum4"&gt;   4:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Text;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum5"&gt;   5:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum6"&gt;   6:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;namespace&lt;/span&gt; EAS.Messages&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum7"&gt;   7:&lt;/span&gt; {   &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum8"&gt;   8:&lt;/span&gt;     &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum9"&gt;   9:&lt;/span&gt;     &lt;span style="color: #008000;"&gt;/// 消息订阅存储接口。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum10"&gt;  10:&lt;/span&gt;     &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum11"&gt;  11:&lt;/span&gt;     &lt;span style="color: #0000ff;"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;interface&lt;/span&gt; ISubscribeStorager&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum12"&gt;  12:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum13"&gt;  13:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum14"&gt;  14:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// 持久化订阅。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum15"&gt;  15:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum16"&gt;  16:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="subscriber"&amp;gt;订阅者。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum17"&gt;  17:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="topic"&amp;gt;消息主题。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum18"&gt;  18:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; Subscribe(&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; subscriber, &lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; topic);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum19"&gt;  19:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum20"&gt;  20:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum21"&gt;  21:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// 持久化退订。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum22"&gt;  22:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum23"&gt;  23:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="subscriber"&amp;gt;订阅者。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum24"&gt;  24:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="topic"&amp;gt;消息主题。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum25"&gt;  25:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; Unsubscribe(&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; subscriber, &lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; topic);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum26"&gt;  26:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum27"&gt;  27:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum28"&gt;  28:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// 装载订阅信息。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum29"&gt;  29:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum30"&gt;  30:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;returns&amp;gt;系统之中的订阅清单。&amp;lt;/returns&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum31"&gt;  31:&lt;/span&gt;         List&amp;lt;SubscribeItem&amp;gt; LoadSubscribes();&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum32"&gt;  32:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum33"&gt;  33:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum34"&gt;  34:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// 写入消息。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum35"&gt;  35:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum36"&gt;  36:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="subscriber"&amp;gt;订阅者。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum37"&gt;  37:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="message"&amp;gt;消息对象。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum38"&gt;  38:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; Write(&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; subscriber, QueueMessage message);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum39"&gt;  39:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum40"&gt;  40:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum41"&gt;  41:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// 读消息。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum42"&gt;  42:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum43"&gt;  43:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="subscriber"&amp;gt;订阅者。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum44"&gt;  44:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="message"&amp;gt;消息对象。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum45"&gt;  45:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;returns&amp;gt;成功读取返回true,否则返回false。&amp;lt;/returns&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum46"&gt;  46:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;bool&lt;/span&gt; Read(&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; subscriber, &lt;span style="color: #0000ff;"&gt;out&lt;/span&gt; QueueMessage message);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum47"&gt;  47:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum48"&gt;  48:&lt;/span&gt; }&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;strong&gt;ISubscribeStorager&lt;/strong&gt;共提供持久化订阅持久化消息存储共五个函数，其中：&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; LoadSubscribes：服务端初始化时读取所有的离线订阅关系，即那个订阅都订阅那那个主题。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Subscribe：持久化订阅者，当订阅才上线订阅消息时，持久化订阅关系，供离线检测之用。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Unsubscribe：持久化取消订阅，当订阅者退订消息时，从持久化订阅关系之中删除。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Write：当订阅者离线时，把订阅消息写入持久化存储。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Read:当离线订阅者上线时，从持久存储之中读取一条消息向其发送。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;strong&gt;&lt;span style="font-size: large; color: #ff0000;"&gt;ISubscribeStorager&lt;/span&gt;&lt;/strong&gt;：可以选择自己实现这个接口，以建立满足自己规则的离线存储机制，当然在AgileEAS.NET SOA 中间件之中提供了两种离线存储机制，存储于数据库和存储于MSMQ，下面向大家介绍一下这两种内置实现。&lt;/p&gt;
&lt;h1&gt;四、两种内置离线存储机制&lt;/h1&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 在AgileEAS.NET SOA 中间件平台之中提供了两个&lt;strong&gt;&lt;span style="font-size: large; color: #ff0000;"&gt;ISubscribeStorager&lt;/span&gt;&lt;/strong&gt;的实现，基于数据库的离线订阅存储实现&lt;span style="font-size: large; color: #ff0000;"&gt;&lt;strong&gt;EAS.Messages.DbSubscribeStorager&lt;/strong&gt;&lt;/span&gt;和基于MSMQ的离线订阅存储实现&lt;span style="color: #ff0000;"&gt;&lt;span style="font-size: large;"&gt;&lt;strong&gt;EAS.Messages.MsmqSubscribeStorager&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;strong&gt;&lt;span style="font-size: large; color: #ff0000;"&gt;EAS.Messages.DbSubscribeStorager&lt;/span&gt;：&lt;/strong&gt;存储订阅关系在messageSubscribe.Config文件之中，消息存储在关系数据库&lt;span style="font-size: large; color: #ff0000;"&gt;&lt;strong&gt;SOA_SUBSCRIBEEVENTS&lt;/strong&gt;&lt;/span&gt;表之中，使用前必须要建立相应的表结构，以下是SQL Server的DDL脚本：&lt;/p&gt;
&lt;div style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;" id="codeSnippetWrapper"&gt;
&lt;div style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;" id="codeSnippet"&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum1"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;CREATE&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;TABLE&lt;/span&gt; [SOA_SUBSCRIBEEVENT](&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum2"&gt;   2:&lt;/span&gt;     [GUID] [&lt;span style="color: #0000ff;"&gt;varchar&lt;/span&gt;](36) &lt;span style="color: #0000ff;"&gt;NOT&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;NULL&lt;/span&gt;,&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum3"&gt;   3:&lt;/span&gt;     [SUBSCRIBER] [nvarchar](128) &lt;span style="color: #0000ff;"&gt;NOT&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;NULL&lt;/span&gt;,&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum4"&gt;   4:&lt;/span&gt;     [TOPIC] [nvarchar](128) &lt;span style="color: #0000ff;"&gt;NOT&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;NULL&lt;/span&gt;,&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum5"&gt;   5:&lt;/span&gt;     [BODY] [image] &lt;span style="color: #0000ff;"&gt;NULL&lt;/span&gt;,&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum6"&gt;   6:&lt;/span&gt;     [FCTIME] [datetime] &lt;span style="color: #0000ff;"&gt;NOT&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;NULL&lt;/span&gt;,&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum7"&gt;   7:&lt;/span&gt;  &lt;span style="color: #0000ff;"&gt;CONSTRAINT&lt;/span&gt; [PK_SOA_SUBSCRIBEEVENT] &lt;span style="color: #0000ff;"&gt;PRIMARY&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;KEY&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;CLUSTERED&lt;/span&gt; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum8"&gt;   8:&lt;/span&gt; (&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum9"&gt;   9:&lt;/span&gt;     [GUID] &lt;span style="color: #0000ff;"&gt;ASC&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum10"&gt;  10:&lt;/span&gt; )&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum11"&gt;  11:&lt;/span&gt; ) &lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 目前理论上支持SQLServer 、Mysql、ORACLE、Sqlite四种数据库结构，具体建表脚本请自行参考相应资料书写，也可以使用AgileEAS.NET SOA中间件所提供的数据库初始化工具创建。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span style="font-size: large; color: #ff0000;"&gt;EAS.Messages.MsmqSubscribeStorager&lt;/span&gt;：&lt;/strong&gt;存储订阅关系在messageSubscribe.Config文件之中，消息存储Msmq消息队列之中，使用之前请确保机器上安装了MSMQ消息对列。&lt;/p&gt;
&lt;h1&gt;五、关于自定义实现&lt;strong&gt;ISubscribeStorager&lt;/strong&gt;&lt;/h1&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 有兴趣的朋友可以自定义实现接口&lt;strong&gt;ISubscribeStorager，&lt;/strong&gt;这样就可以按自己的规则进行存储，比如把离线消息存储到mongodb、Redis、或者直接存储在文件之中，或者其他更多的实现规则，在此就不一一介绍，如有相关兴趣，请联系作者，如确有必要需要给在家介绍一下如何实现，将会另开一文本介绍如何自定义实现&lt;strong&gt;ISubscribeStorager接口。&lt;/strong&gt;&lt;/p&gt;
&lt;h1&gt;六、改进在线例子支持离线&lt;/h1&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 还是跟上次一样，以案例为在家展示一下怎么进行离线消息，就不重新开始例子，对原有例子做一些改进，改进后例子如下：&lt;/p&gt;
&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201408/211050037218031.png"&gt;&lt;img title="image" alt="image" style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" src="http://images.cnitblog.com/blog/19020/201408/211050040651603.png" width="382" height="279" border="0" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 其中在原有项目的基础上增加了：Demo.Subscriber1和Demo.Subscriber2项目，其项目配置代码、配置文件基本上同Demo.Subscriber一样，其中唯一的差别在于，Demo.Subscriber1和Demo.Subscriber2向服务器提交订阅的时候都增加一个另friendName参数，其使用IMessageBus接口的以下订阅函数：&lt;/p&gt;
&lt;div style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;" id="codeSnippetWrapper"&gt;
&lt;div style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;" id="codeSnippet"&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum1"&gt;   1:&lt;/span&gt; &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum2"&gt;   2:&lt;/span&gt; &lt;span style="color: #008000;"&gt;/// 订阅消息。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum3"&gt;   3:&lt;/span&gt; &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum4"&gt;   4:&lt;/span&gt; &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="subscriber"&amp;gt;订阅者。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum5"&gt;   5:&lt;/span&gt; &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="friendName"&amp;gt;订阅者名称，用于处理离线订阅。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum6"&gt;   6:&lt;/span&gt; &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="topic"&amp;gt;主题。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum7"&gt;   7:&lt;/span&gt; &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="notifyHandler"&amp;gt;订阅通知。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum8"&gt;   8:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; Subscribe(&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; subscriber,&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; friendName ,&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; topic, MessageNotifyHandler notifyHandler);&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Demo.Publisher项目为发布者代码。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Demo.Subscriber项目为订阅者代码。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Demo.Server项目为服务端代码。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Demo.Subscriber1项目之中，其Program.cs代码如下：&lt;/p&gt;
&lt;div style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;" id="codeSnippetWrapper"&gt;
&lt;div style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;" id="codeSnippet"&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum1"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum2"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Collections.Generic;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum3"&gt;   3:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Linq;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum4"&gt;   4:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Windows.Forms;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum5"&gt;   5:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; EAS.Messages;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum6"&gt;   6:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum7"&gt;   7:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;namespace&lt;/span&gt; Demo.Subscriber1&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum8"&gt;   8:&lt;/span&gt; {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum9"&gt;   9:&lt;/span&gt;     &lt;span style="color: #0000ff;"&gt;class&lt;/span&gt; Program&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum10"&gt;  10:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum11"&gt;  11:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; Main(&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt;[] args)&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum12"&gt;  12:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum13"&gt;  13:&lt;/span&gt;             var container = EAS.Objects.ContainerBuilder.BuilderDefault();&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum14"&gt;  14:&lt;/span&gt;             var bus = container.GetComponentInstance(&lt;span style="color: #006080;"&gt;"MessageBus"&lt;/span&gt;) &lt;span style="color: #0000ff;"&gt;as&lt;/span&gt; IMessageBus;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum15"&gt;  15:&lt;/span&gt;             System.Console.WriteLine(&lt;span style="color: #006080;"&gt;"Subscriber1"&lt;/span&gt;);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum16"&gt;  16:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum17"&gt;  17:&lt;/span&gt;             bus.Subscribe(&lt;span style="color: #0000ff;"&gt;new&lt;/span&gt; Program(), &lt;span style="color: #006080;"&gt;"Subscriber1"&lt;/span&gt;, Demo.Messages.Topics.DEMO_TOPIC, MessageNotify);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum18"&gt;  18:&lt;/span&gt;             System.Console.ReadLine();&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum19"&gt;  19:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum20"&gt;  20:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum21"&gt;  21:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; MessageNotify(&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; m)&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum22"&gt;  22:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum23"&gt;  23:&lt;/span&gt;             Demo.Messages.Message message = m &lt;span style="color: #0000ff;"&gt;as&lt;/span&gt; Demo.Messages.Message;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum24"&gt;  24:&lt;/span&gt;             System.Console.WriteLine(&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt;.Format(&lt;span style="color: #006080;"&gt;"Subscribe:{0}"&lt;/span&gt;, message.ID));&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum25"&gt;  25:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum26"&gt;  26:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum27"&gt;  27:&lt;/span&gt; }&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 其中bus.Subscribe(new Program(), "&lt;span style="font-size: medium; color: #ff0000;"&gt;&lt;strong&gt;Subscriber1&lt;/strong&gt;&lt;/span&gt;", Demo.Messages.Topics.DEMO_TOPIC, MessageNotify);在订阅消息的时候给了一个friendName为Subscriber1,Demo.Subscriber2与Demo.Subscriber1项目的唯一的差别就是此处为&lt;span style="font-size: medium; color: #ff0000;"&gt;&lt;strong&gt;Subscriber2&lt;/strong&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 我们使用内置的&lt;strong&gt;&lt;span style="font-size: large; color: #ff0000;"&gt;EAS.Messages.DbSubscribeStorager&lt;/span&gt;&lt;/strong&gt;，则不需要修改服务端的代码，只需要修改服务端的配置文件如下：&lt;/p&gt;
&lt;div style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;" id="codeSnippetWrapper"&gt;
&lt;div style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;" id="codeSnippet"&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum1"&gt;   1:&lt;/span&gt; &amp;lt;?xml version=&lt;span style="color: #006080;"&gt;"1.0"&lt;/span&gt; encoding=&lt;span style="color: #006080;"&gt;"utf-8"&lt;/span&gt;?&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum2"&gt;   2:&lt;/span&gt; &amp;lt;configuration&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum3"&gt;   3:&lt;/span&gt;   &amp;lt;configSections&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum4"&gt;   4:&lt;/span&gt;     &amp;lt;section name=&lt;span style="color: #006080;"&gt;"eas"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"EAS.ConfigHandler,EAS.MicroKernel"&lt;/span&gt; /&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum5"&gt;   5:&lt;/span&gt;   &amp;lt;/configSections&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum6"&gt;   6:&lt;/span&gt;   &amp;lt;startup useLegacyV2RuntimeActivationPolicy=&lt;span style="color: #006080;"&gt;"true"&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum7"&gt;   7:&lt;/span&gt;     &amp;lt;supportedRuntime version=&lt;span style="color: #006080;"&gt;"v4.0"&lt;/span&gt;/&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum8"&gt;   8:&lt;/span&gt;   &amp;lt;/startup&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum9"&gt;   9:&lt;/span&gt;   &amp;lt;eas&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum10"&gt;  10:&lt;/span&gt;     &amp;lt;objects&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum11"&gt;  11:&lt;/span&gt;       &amp;lt;!--数据库连接--&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum12"&gt;  12:&lt;/span&gt;       &amp;lt;&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; name=&lt;span style="color: #006080;"&gt;"DbProvider"&lt;/span&gt; assembly=&lt;span style="color: #006080;"&gt;"EAS.Data"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"EAS.Data.Access.SqlClientDbProvider"&lt;/span&gt; LifestyleType=&lt;span style="color: #006080;"&gt;"Thread"&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum13"&gt;  13:&lt;/span&gt;         &amp;lt;property name=&lt;span style="color: #006080;"&gt;"ConnectionString"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"string"&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;value&lt;/span&gt;=&lt;span style="color: #006080;"&gt;"Data Source=.;Initial Catalog=eas_db;Integrated Security=SSPI;Connect Timeout=30"&lt;/span&gt; /&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum14"&gt;  14:&lt;/span&gt;       &amp;lt;/&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum15"&gt;  15:&lt;/span&gt;       &amp;lt;!--数据访问器--&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum16"&gt;  16:&lt;/span&gt;       &amp;lt;&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; name=&lt;span style="color: #006080;"&gt;"DataAccessor"&lt;/span&gt; assembly=&lt;span style="color: #006080;"&gt;"EAS.Data"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"EAS.Data.Access.DataAccessor"&lt;/span&gt; LifestyleType=&lt;span style="color: #006080;"&gt;"Thread"&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum17"&gt;  17:&lt;/span&gt;         &amp;lt;property name=&lt;span style="color: #006080;"&gt;"DbProvider"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"object"&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;value&lt;/span&gt;=&lt;span style="color: #006080;"&gt;"DbProvider"&lt;/span&gt;/&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum18"&gt;  18:&lt;/span&gt;         &amp;lt;property name=&lt;span style="color: #006080;"&gt;"Language"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"object"&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;value&lt;/span&gt;=&lt;span style="color: #006080;"&gt;"TSqlLanguage"&lt;/span&gt;/&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum19"&gt;  19:&lt;/span&gt;       &amp;lt;/&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum20"&gt;  20:&lt;/span&gt;       &amp;lt;!--ORM访问器--&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum21"&gt;  21:&lt;/span&gt;       &amp;lt;&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; name=&lt;span style="color: #006080;"&gt;"OrmAccessor"&lt;/span&gt; assembly=&lt;span style="color: #006080;"&gt;"EAS.Data"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"EAS.Data.ORM.OrmAccessor"&lt;/span&gt; LifestyleType=&lt;span style="color: #006080;"&gt;"Thread"&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum22"&gt;  22:&lt;/span&gt;         &amp;lt;property name=&lt;span style="color: #006080;"&gt;"DataAccessor"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"object"&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;value&lt;/span&gt;=&lt;span style="color: #006080;"&gt;"DataAccessor"&lt;/span&gt;/&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum23"&gt;  23:&lt;/span&gt;       &amp;lt;/&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum24"&gt;  24:&lt;/span&gt;       &amp;lt;!--查询语言--&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum25"&gt;  25:&lt;/span&gt;       &amp;lt;&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; name=&lt;span style="color: #006080;"&gt;"TSqlLanguage"&lt;/span&gt; assembly=&lt;span style="color: #006080;"&gt;"EAS.Data"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"EAS.Data.Linq.TSqlLanguage"&lt;/span&gt; LifestyleType=&lt;span style="color: #006080;"&gt;"Thread"&lt;/span&gt;/&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum26"&gt;  26:&lt;/span&gt;       &amp;lt;!--消息持久化--&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum27"&gt;  27:&lt;/span&gt;       &amp;lt;&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; name=&lt;span style="color: #006080;"&gt;"SubscribeStorager"&lt;/span&gt; assembly=&lt;span style="color: #006080;"&gt;"EAS.SOA.BootStrap"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"EAS.Messages.DbSubscribeStorager"&lt;/span&gt; LifestyleType=&lt;span style="color: #006080;"&gt;"Singleton"&lt;/span&gt;/&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum28"&gt;  28:&lt;/span&gt;       &amp;lt;!--日志管理--&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum29"&gt;  29:&lt;/span&gt;       &amp;lt;&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; name=&lt;span style="color: #006080;"&gt;"Logger"&lt;/span&gt; assembly=&lt;span style="color: #006080;"&gt;"EAS.MicroKernel"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"EAS.Loggers.TextLogger"&lt;/span&gt; LifestyleType=&lt;span style="color: #006080;"&gt;"Singleton"&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum30"&gt;  30:&lt;/span&gt;         &amp;lt;property name=&lt;span style="color: #006080;"&gt;"RootPath"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"string"&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;value&lt;/span&gt;=&lt;span style="color: #006080;"&gt;"G:\App.Work\Pub_Sub\Offline\Publish\logs"&lt;/span&gt; /&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum31"&gt;  31:&lt;/span&gt;       &amp;lt;/&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum32"&gt;  32:&lt;/span&gt;     &amp;lt;/objects&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum33"&gt;  33:&lt;/span&gt;   &amp;lt;/eas&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum34"&gt;  34:&lt;/span&gt; &amp;lt;/configuration&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 在配置文件的IOC配置之中我们配置了消息存储对象以及其所依赖的数据库访问对象、Linq查询语言表达式，另外需要说明的是，我们需要把配置文件之中所涉及的&lt;!--数据访问器--&gt;&lt;!--ORM访问器--&gt;&lt;!--查询语言--&gt;EAS.Data.dll、EAS.SOA.BootStrap.dll复制到编译输出Publish，这两个文件可以从AgileEAS.NET SOA 中间件平台发布包之中寻找，本案例的下载压碎包之中会包括这两个文件。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 有关于基于Msmq的配置，只需要修改配置文件如下：&lt;/p&gt;
&lt;div style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;" id="codeSnippetWrapper"&gt;
&lt;div style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;" id="codeSnippet"&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum1"&gt;   1:&lt;/span&gt; &amp;lt;?xml version=&lt;span style="color: #006080;"&gt;"1.0"&lt;/span&gt; encoding=&lt;span style="color: #006080;"&gt;"utf-8"&lt;/span&gt;?&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum2"&gt;   2:&lt;/span&gt; &amp;lt;configuration&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum3"&gt;   3:&lt;/span&gt;   &amp;lt;configSections&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum4"&gt;   4:&lt;/span&gt;     &amp;lt;section name=&lt;span style="color: #006080;"&gt;"eas"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"EAS.ConfigHandler,EAS.MicroKernel"&lt;/span&gt; /&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum5"&gt;   5:&lt;/span&gt;   &amp;lt;/configSections&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum6"&gt;   6:&lt;/span&gt;   &amp;lt;startup useLegacyV2RuntimeActivationPolicy=&lt;span style="color: #006080;"&gt;"true"&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum7"&gt;   7:&lt;/span&gt;     &amp;lt;supportedRuntime version=&lt;span style="color: #006080;"&gt;"v4.0"&lt;/span&gt;/&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum8"&gt;   8:&lt;/span&gt;   &amp;lt;/startup&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum9"&gt;   9:&lt;/span&gt;   &amp;lt;eas&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum10"&gt;  10:&lt;/span&gt;     &amp;lt;objects&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum11"&gt;  11:&lt;/span&gt;       &amp;lt;!--消息持久化--&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum12"&gt;  12:&lt;/span&gt;       &amp;lt;&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; name=&lt;span style="color: #006080;"&gt;"SubscribeStorager"&lt;/span&gt; assembly=&lt;span style="color: #006080;"&gt;"EAS.SOA.BootStrap"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"EAS.Messages.MsmqSubscribeStorager"&lt;/span&gt; LifestyleType=&lt;span style="color: #006080;"&gt;"Singleton"&lt;/span&gt;/&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum13"&gt;  13:&lt;/span&gt;       &amp;lt;!--日志管理--&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum14"&gt;  14:&lt;/span&gt;       &amp;lt;&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; name=&lt;span style="color: #006080;"&gt;"Logger"&lt;/span&gt; assembly=&lt;span style="color: #006080;"&gt;"EAS.MicroKernel"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"EAS.Loggers.TextLogger"&lt;/span&gt; LifestyleType=&lt;span style="color: #006080;"&gt;"Singleton"&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum15"&gt;  15:&lt;/span&gt;         &amp;lt;property name=&lt;span style="color: #006080;"&gt;"RootPath"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"string"&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;value&lt;/span&gt;=&lt;span style="color: #006080;"&gt;"G:\App.Work\Pub_Sub\Offline\Publish\logs"&lt;/span&gt; /&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum16"&gt;  16:&lt;/span&gt;       &amp;lt;/&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum17"&gt;  17:&lt;/span&gt;     &amp;lt;/objects&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum18"&gt;  18:&lt;/span&gt;   &amp;lt;/eas&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum19"&gt;  19:&lt;/span&gt; &amp;lt;/configuration&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 到此为止，所有代码均已完成，是不是很简单，接下来，我们跑起来验证一下效果。&lt;/p&gt;
&lt;h1&gt;七、验证效果&lt;/h1&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 我们在编译输入目录Publish下先启动Demo.Server.exe，再各启动Demo.Subscriber.exe、Demo.Subscriber1.exe、Demo.Subscriber2.exe,再启动一个Demo.Publisher.exe，在Demo.Publisher.exe控制台按回车键：&lt;/p&gt;
&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201408/211050045492918.jpg"&gt;&lt;img title="N_[]_C%GTD_$0[KL}}B~E$A" alt="N_[]_C%GTD_$0[KL}}B~E$A" style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" src="http://images.cnitblog.com/blog/19020/201408/211050064569532.jpg" width="927" height="525" border="0" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;目前程序三个订阅者都是在线的，Demo.Publisher发布了三条消息，三个订阅者都收到了三条消息，那么我们关闭Demo.Subscriber2之后再由Demo.Publisher发布两条消息：&lt;/p&gt;
&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201408/211050083466078.jpg"&gt;&lt;img title="R(OM90FW6B0WYO6R)0MQ7D4" alt="R(OM90FW6B0WYO6R)0MQ7D4" style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" src="http://images.cnitblog.com/blog/19020/201408/211050093784792.jpg" width="792" height="520" border="0" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;然后我们再启动Demo.Subscriber2，看是否还能收到其离线之后由Demo.Publisher发布的两条消息：&lt;/p&gt;
&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201408/211050113786136.jpg"&gt;&lt;img title="ZE8XA`V4PE)5%F~QF}NO]0N" alt="ZE8XA`V4PE)5%F~QF}NO]0N" style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" src="http://images.cnitblog.com/blog/19020/201408/211050202848657.jpg" width="947" height="436" border="0" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;OK，到此为止。&lt;/p&gt;
&lt;h1&gt;八、源代码下载&lt;/h1&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 本程序的源代码已上传到服务器，请通过&lt;a href="http://112.74.66.105/downloads/eas/Demo.Pub_Sub_Offline.rar"&gt;http://112.74.66.105/downloads/eas/Demo.Pub_Sub_Offline.rar&lt;/a&gt;进行下载，如果在开发过程之中想要了解更多有关Socket通信框架以及更多AgileEAS.NET SOA中间件平台的技术资源，请通过AgileEAS.NET SOA 网站：&lt;a href="http://www.smarteas.net"&gt;http://www.smarteas.net&lt;/a&gt;的&lt;a href="http://www.smarteas.net/page/EAS_NET_Downloads.aspx"&gt;最新下载栏目&lt;/a&gt;进行下载。&amp;nbsp;&amp;nbsp;&lt;/p&gt;
&lt;h1&gt;九、问题反馈&lt;/h1&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 麻烦大家在通过视频进行学习的时候能及时把问题反馈给楼主，或者有什么需要改进的一些建议都请向楼主直接反馈,以下是联系方式：&lt;/p&gt;
&lt;p&gt;AgileEAS.NET SOA 网站：&lt;a href="http://www.smarteas.net/"&gt;http://www.smarteas.net&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;官方博客:&lt;a href="http://eastjade.cnblogs.com/"&gt;http://eastjade.cnblogs.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;楼主QQ:47920381,AgileEAS.NET&lt;/p&gt;
&lt;p&gt;QQ群：113723486（AgileEAS SOA 平台）/上限1000人&lt;/p&gt;
&lt;p&gt;199463175（AgileEAS SOA 交流）/上限1000人&lt;/p&gt;
&lt;p&gt;120661978（AgileEAS.NET 平台交流）/上限1000人&lt;/p&gt;
&lt;p&gt;邮件:james@agilelab.cn,mail.james@qq.com,&lt;/p&gt;
&lt;p&gt;电话：18629261335。&lt;/p&gt;</summary>
    <published>2014-08-21T03:24:00+00:00</published>
    <link rel="related" href="http://smarteas.net/post/2014/08/21/分布式消息总线，基于NET-Socket-Tcp的发布-订阅框架之离线支持，附代码下载.aspx#comment" />
    <category term="C#" />
    <category term="ESB" />
    <category term="Socket" />
    <category term="通信框架" />
    <category term="消息中间件" />
    <category term="中间件" />
    <dc:publisher>james</dc:publisher>
    <pingback:server>http://smarteas.net/pingback.axd</pingback:server>
    <pingback:target>http://smarteas.net/post.aspx?id=d0094459-49c3-41fb-98ac-b97fb4ac5b63</pingback:target>
    <slash:comments>0</slash:comments>
    <trackback:ping>http://smarteas.net/trackback.axd?id=d0094459-49c3-41fb-98ac-b97fb4ac5b63</trackback:ping>
    <wfw:comment>http://smarteas.net/post/2014/08/21/分布式消息总线，基于NET-Socket-Tcp的发布-订阅框架之离线支持，附代码下载.aspx#comment</wfw:comment>
    <wfw:commentRss>http://smarteas.net/syndication.axd?post=d0094459-49c3-41fb-98ac-b97fb4ac5b63</wfw:commentRss>
  </entry>
  <entry>
    <id>http://smarteas.net/post/2014/08/14/分享一个分布式消息总线，基于NET-Socket-Tcp的发布-订阅框架，附代码下载.aspx</id>
    <title>分享一个分布式消息总线，基于.NET Socket Tcp的发布-订阅框架，附代码下载</title>
    <updated>2014-08-14T07:26:00+00:00</updated>
    <link rel="self" href="http://smarteas.net/post.aspx?id=5ccfe18d-3dd0-4eda-8b51-ca4865c9e010" />
    <link href="http://smarteas.net/post/2014/08/14/分享一个分布式消息总线，基于NET-Socket-Tcp的发布-订阅框架，附代码下载.aspx" />
    <author>
      <name>james</name>
    </author>
    <summary type="html">&lt;h1&gt;一、分布式消息总线&lt;/h1&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 在很多MIS项目之中都有这样的需求，需要一个及时、高效的的通知机制，即比如当使用者A完成了任务X，就需要立即告知使用者B任务X已经完成，在通常的情况下，开发人中都是在使用者B所使用的程序之中写数据库轮循代码，这样就会产品一个很严重的两个问题，第一个问题是延迟，轮循机制要定时执行，必须会引起延迟，第二个问题是数据库压力过大，当进行高频度的轮循会生产大量的数据库查询，并且如果有大量的使用者进行轮循，那数据库的压力就更大了。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 那么在这个时间，就需要一套能支持发布-订阅模式的分布式消息总线，那这个问题就可以很好的解决了，比如采用一些成熟的消息总线进行实现，比如MSMQ或者采用比如开源的NServiceBus的发布订阅机制就可以实现处理这种需求，其系统结构就会变成如下所示：&lt;/p&gt;
&lt;p&gt;&lt;img title="2010-11-29-11-30-48" alt="2010-11-29-11-30-48" style="float: none; margin-left: auto; display: block; margin-right: auto;" src="http://images.cnitblog.com/blog/19020/201408/140844386088043.gif" width="506" height="225" /&gt;&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; 本分布式消息总线，目前广泛的被应用于分布式缓存的更新通知，当在N百台客户短在使用缓存的过程之中，某个操作修改了缓存的数据，必须会导致其他终端缓存的失效，那么使用基于Socket的分布式消息总线之后，我们可以做了修改了即可实时通知，做到缓存数据保持最新，再比如医疗应用之中的危急值管理，当发现检验、检查危急值之后，需要及时通知病区启动声光报警系统等，提醒医护工作人员及相关领导做出相应的措施，再比如应用于异构系统整合，当检验系统做出检验报告，通过消息总线进行发布，HIS系统则即时会收到检验报告数据而实现系统的整合。&lt;/p&gt;
&lt;h1&gt;二、基于Socket的实现&lt;/h1&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 目前能够实现发布订阅模式的开源产品非常之多，为什么还要制造轮子呢，其主要原因有以下几点&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 1）像NServiceBus这种东西基于MSMQ，在大量的发布者-订阅者的情况下性能不佳。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 2）此类东西太过于庞大、不易使用和配置。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 3）学习成本过高。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 那为什么要使用Socket技术进行实现呢，其主要原因是有以下几点:&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 1）使用高效的Socket通信技术，高效、支持更多的客户端。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 2）使用简单，不需要定义太多额外的东西，只需要定义主题和消息即可使用。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 目前本发布订阅框架是基于AgileEAS.NET SOA中间件平台Socket框架实现的，有关于些Socket框架的技术细节请参考&lt;a href="http://www.cnblogs.com/eastjade/p/3367923.html"&gt;AgileEAS.NET SOA 中间件平台.Net Socket通信框架-介绍&lt;/a&gt;、&lt;a href="http://www.cnblogs.com/eastjade/p/3371631.html"&gt;AgileEAS.NET SOA 中间件平台.Net Socket通信框架-简单例子-实现简单的服务端客户端消息应答&lt;/a&gt;、&lt;a href="http://www.cnblogs.com/eastjade/p/3380244.html"&gt;AgileEAS.NET SOA 中间件平台.Net Socket通信框架-完整应用例子-在线聊天室系统-下载配置&lt;/a&gt;、&lt;a href="http://www.cnblogs.com/eastjade/p/3385699.html"&gt;AgileEAS.NET SOA 中间件平台.Net Socket通信框架-完整应用例子-在线聊天室系统-代码解析&lt;/a&gt;文章进行了解和学习。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 目前本发布订阅框架并直接集成于AgileEAS.NET SOA Socket通信框架之中并且随其一并发布，下面简单介绍一下其API：&lt;/p&gt;
&lt;p&gt;在本框架之中定义了一个消息总线接口IMessageBus：&lt;/p&gt;
&lt;div style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;" id="codeSnippetWrapper"&gt;
&lt;div style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;" id="codeSnippet"&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum1"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum2"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Collections.Generic;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum3"&gt;   3:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Linq;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum4"&gt;   4:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Text;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum5"&gt;   5:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Collections;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum6"&gt;   6:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum7"&gt;   7:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;namespace&lt;/span&gt; EAS.Messages&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum8"&gt;   8:&lt;/span&gt; {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum9"&gt;   9:&lt;/span&gt;     &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum10"&gt;  10:&lt;/span&gt;     &lt;span style="color: #008000;"&gt;/// 消息总线接口定义。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum11"&gt;  11:&lt;/span&gt;     &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum12"&gt;  12:&lt;/span&gt;     &lt;span style="color: #0000ff;"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;interface&lt;/span&gt; IMessageBus : IDisposable&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum13"&gt;  13:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum14"&gt;  14:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum15"&gt;  15:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// 注册发布者。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum16"&gt;  16:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum17"&gt;  17:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="publisher"&amp;gt;发布者。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum18"&gt;  18:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; AddPublisher(&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; publisher);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum19"&gt;  19:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum20"&gt;  20:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum21"&gt;  21:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// 注册发布者。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum22"&gt;  22:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum23"&gt;  23:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="publisher"&amp;gt;发布者。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum24"&gt;  24:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="topic"&amp;gt;主题。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum25"&gt;  25:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; AddPublisher(&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; publisher, &lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; topic);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum26"&gt;  26:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum27"&gt;  27:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum28"&gt;  28:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// 发布一条消息到总线。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum29"&gt;  29:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum30"&gt;  30:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="topic"&amp;gt;主题。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum31"&gt;  31:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="message"&amp;gt;发布的消息。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum32"&gt;  32:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; Publish(&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; topic, &lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; message);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum33"&gt;  33:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum34"&gt;  34:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum35"&gt;  35:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// 订阅消息。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum36"&gt;  36:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum37"&gt;  37:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="subscriber"&amp;gt;订阅者。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum38"&gt;  38:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="topic"&amp;gt;主题。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum39"&gt;  39:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="notifyHandler"&amp;gt;订阅通知。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum40"&gt;  40:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; Subscribe(&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; subscriber, &lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; topic, MessageNotifyHandler notifyHandler);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum41"&gt;  41:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum42"&gt;  42:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum43"&gt;  43:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// 订阅消息。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum44"&gt;  44:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum45"&gt;  45:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="subscriber"&amp;gt;订阅者。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum46"&gt;  46:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="friendName"&amp;gt;订阅者名称，用于处理离线订阅。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum47"&gt;  47:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="topic"&amp;gt;主题。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum48"&gt;  48:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="notifyHandler"&amp;gt;订阅通知。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum49"&gt;  49:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; Subscribe(&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; subscriber,&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; friendName ,&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; topic, MessageNotifyHandler notifyHandler);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum50"&gt;  50:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum51"&gt;  51:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum52"&gt;  52:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// 订阅消息。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum53"&gt;  53:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum54"&gt;  54:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="subscriber"&amp;gt;订阅者。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum55"&gt;  55:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="friendName"&amp;gt;订阅者名称，用于处理离线订阅。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum56"&gt;  56:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="topic"&amp;gt;主题。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum57"&gt;  57:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="notifyHandler"&amp;gt;订阅通知。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum58"&gt;  58:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="changedHandler"&amp;gt;发布者状态变化委托。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum59"&gt;  59:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; Subscribe(&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; subscriber, &lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; friendName, &lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; topic, MessageNotifyHandler notifyHandler,PublisherSstatusChangedHandler changedHandler);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum60"&gt;  60:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum61"&gt;  61:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum62"&gt;  62:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// 退订消息。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum63"&gt;  63:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum64"&gt;  64:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="subscriber"&amp;gt;订阅者。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum65"&gt;  65:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; Unsubscribe(&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; subscriber);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum66"&gt;  66:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum67"&gt;  67:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum68"&gt;  68:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// 退订消息。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum69"&gt;  69:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum70"&gt;  70:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="subscriber"&amp;gt;订阅者。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum71"&gt;  71:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="topic"&amp;gt;主题。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum72"&gt;  72:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; Unsubscribe(&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; subscriber, &lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; topic);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum73"&gt;  73:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum74"&gt;  74:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum75"&gt;  75:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// 退订消息。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum76"&gt;  76:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum77"&gt;  77:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="subscriber"&amp;gt;订阅者。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum78"&gt;  78:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="friendName"&amp;gt;订阅者名称，用于处理离线订阅。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum79"&gt;  79:&lt;/span&gt;         &lt;span style="color: #008000;"&gt;/// &amp;lt;param name="topic"&amp;gt;主题。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum80"&gt;  80:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; Unsubscribe(&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; subscriber, &lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; friendName, &lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; topic);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum81"&gt;  81:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum82"&gt;  82:&lt;/span&gt; }&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; IMessageBus就基于Socket发布订阅消息总线的灵魂接口，也是基唯一的发布者调用者功能入口，也就是说不管你是发布者还是订阅者都需要调用这个接口，如果你是发布者请调用IMessageBus接口的Publish方法向消息总线发布消息，如果是你订阅者请通过IMessageBus的订阅方法进行订阅，当你订阅了某个主题之后，有发布者发布该主题的消息，你即可以收到消息并调用订阅回调函数进行处理。&lt;/p&gt;
&lt;h1&gt;三、实现一个简单的例子&lt;/h1&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 现在我们开始一个简单的应用消息总线的例子，本例子代码解决方案由下图4个项目组成：&lt;/p&gt;
&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201408/140844389521615.jpg"&gt;&lt;img title="(`I6]J`YK1((6M3M8Q2}(5X" alt="(`I6]J`YK1((6M3M8Q2}(5X" style="display: inline;" src="http://images.cnitblog.com/blog/19020/201408/140844393897915.jpg" width="372" height="247" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 其中：Demo.Messages项目定义发布者、订阅者所使用的消息对象和消息主题。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Demo.Publisher项目为发布者代码。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Demo.Subscriber项目为订阅者代码。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Demo.Server项目为服务端代码。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 在Demo.Messages项目之中，我们定义了一个消息Message：&lt;/p&gt;
&lt;div style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;" id="codeSnippetWrapper"&gt;
&lt;div style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;" id="codeSnippet"&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum1"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum2"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Collections.Generic;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum3"&gt;   3:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Linq;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum4"&gt;   4:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Text;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum5"&gt;   5:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Xml.Serialization;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum6"&gt;   6:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum7"&gt;   7:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;namespace&lt;/span&gt; Demo.Messages&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum8"&gt;   8:&lt;/span&gt; {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum9"&gt;   9:&lt;/span&gt;     [Serializable]&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum10"&gt;  10:&lt;/span&gt;     &lt;span style="color: #0000ff;"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;class&lt;/span&gt; Message&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum11"&gt;  11:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum12"&gt;  12:&lt;/span&gt;         [XmlElement]&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum13"&gt;  13:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;public&lt;/span&gt; Guid ID&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum14"&gt;  14:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum15"&gt;  15:&lt;/span&gt;             get;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum16"&gt;  16:&lt;/span&gt;             set;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum17"&gt;  17:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum18"&gt;  18:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum19"&gt;  19:&lt;/span&gt; }&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 消息Message很简单，只有一个属性ID，同时 还需要定义一个消息主题：&lt;/p&gt;
&lt;div style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;" id="codeSnippetWrapper"&gt;
&lt;div style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;" id="codeSnippet"&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum1"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum2"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Collections.Generic;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum3"&gt;   3:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Linq;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum4"&gt;   4:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Text;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum5"&gt;   5:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum6"&gt;   6:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;namespace&lt;/span&gt; Demo.Messages&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum7"&gt;   7:&lt;/span&gt; {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum8"&gt;   8:&lt;/span&gt;     &lt;span style="color: #0000ff;"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;class&lt;/span&gt; Topics&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum9"&gt;   9:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum10"&gt;  10:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;readonly&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;string&lt;/span&gt; DEMO_TOPIC = &lt;span style="color: #006080;"&gt;"演示消息"&lt;/span&gt;;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum11"&gt;  11:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum12"&gt;  12:&lt;/span&gt; }&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 我们定义了一个消息主题为&amp;ldquo;演示消息&amp;rdquo;。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 在Demo.Publisher项目之中，没有太多额外的代码，只有在Program.cs写了以下简单的调用代码：&lt;/p&gt;
&lt;div style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;" id="codeSnippetWrapper"&gt;
&lt;div style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;" id="codeSnippet"&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum1"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum2"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Collections.Generic;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum3"&gt;   3:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Linq;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum4"&gt;   4:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Text;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum5"&gt;   5:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; EAS.Messages;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum6"&gt;   6:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum7"&gt;   7:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;namespace&lt;/span&gt; Demo.Publisher&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum8"&gt;   8:&lt;/span&gt; {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum9"&gt;   9:&lt;/span&gt;     &lt;span style="color: #0000ff;"&gt;class&lt;/span&gt; Program&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum10"&gt;  10:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum11"&gt;  11:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; Main(&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt;[] args)&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum12"&gt;  12:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum13"&gt;  13:&lt;/span&gt;             var container = EAS.Objects.ContainerBuilder.BuilderDefault();&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum14"&gt;  14:&lt;/span&gt;             var bus = container.GetComponentInstance(&lt;span style="color: #006080;"&gt;"MessageBus"&lt;/span&gt;) &lt;span style="color: #0000ff;"&gt;as&lt;/span&gt; IMessageBus;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum15"&gt;  15:&lt;/span&gt;             System.Console.WriteLine(&lt;span style="color: #006080;"&gt;"Publisher"&lt;/span&gt;);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum16"&gt;  16:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum17"&gt;  17:&lt;/span&gt;             &lt;span style="color: #0000ff;"&gt;while&lt;/span&gt; (System.Console.ReadLine()!=&lt;span style="color: #006080;"&gt;"exit"&lt;/span&gt;)&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum18"&gt;  18:&lt;/span&gt;             {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum19"&gt;  19:&lt;/span&gt;                 var m = &lt;span style="color: #0000ff;"&gt;new&lt;/span&gt; Messages.Message { ID = Guid.NewGuid() };&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum20"&gt;  20:&lt;/span&gt;                 bus.Publish(Demo.Messages.Topics.DEMO_TOPIC, m);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum21"&gt;  21:&lt;/span&gt;                 System.Console.WriteLine(&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt;.Format(&lt;span style="color: #006080;"&gt;"Publish:{0}"&lt;/span&gt;, m.ID));&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum22"&gt;  22:&lt;/span&gt;             }&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum23"&gt;  23:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum24"&gt;  24:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum25"&gt;  25:&lt;/span&gt; }&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 从IOC容器获取一个消息总线IMessageBus对象，并调用Publish函数发布消息&amp;rdquo;&lt;strong&gt;bus.Publish(Demo.Messages.Topics.DEMO_TOPIC, m);&amp;ldquo;。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 当然了，使用了IOC容器，就离来开配置文件了，其App.config文件内容如下：&lt;/p&gt;
&lt;div style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;" id="codeSnippetWrapper"&gt;
&lt;div style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;" id="codeSnippet"&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum1"&gt;   1:&lt;/span&gt; &amp;lt;?xml version=&lt;span style="color: #006080;"&gt;"1.0"&lt;/span&gt; encoding=&lt;span style="color: #006080;"&gt;"utf-8"&lt;/span&gt;?&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum2"&gt;   2:&lt;/span&gt; &amp;lt;configuration&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum3"&gt;   3:&lt;/span&gt;   &amp;lt;configSections&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum4"&gt;   4:&lt;/span&gt;     &amp;lt;section name=&lt;span style="color: #006080;"&gt;"eas"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"EAS.ConfigHandler,EAS.MicroKernel"&lt;/span&gt; /&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum5"&gt;   5:&lt;/span&gt;   &amp;lt;/configSections&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum6"&gt;   6:&lt;/span&gt;   &amp;lt;eas&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum7"&gt;   7:&lt;/span&gt;     &amp;lt;objects&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum8"&gt;   8:&lt;/span&gt;       &amp;lt;!--消息总线--&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum9"&gt;   9:&lt;/span&gt;       &amp;lt;&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; name=&lt;span style="color: #006080;"&gt;"MessageBus"&lt;/span&gt; assembly=&lt;span style="color: #006080;"&gt;"EAS.MicroKernel"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"EAS.Sockets.Bus.SocketBus"&lt;/span&gt; LifestyleType=&lt;span style="color: #006080;"&gt;"Singleton"&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum10"&gt;  10:&lt;/span&gt;         &amp;lt;property name=&lt;span style="color: #006080;"&gt;"Url"&lt;/span&gt; type=&lt;span style="color: #006080;"&gt;"string"&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;value&lt;/span&gt;=&lt;span style="color: #006080;"&gt;"socket.tcp://127.0.0.1:6606/"&lt;/span&gt;/&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum11"&gt;  11:&lt;/span&gt;       &amp;lt;/&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum12"&gt;  12:&lt;/span&gt;     &amp;lt;/objects&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum13"&gt;  13:&lt;/span&gt;   &amp;lt;/eas&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum14"&gt;  14:&lt;/span&gt; &amp;lt;/configuration&amp;gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 在Demo.Subscriber项目之中，使用与Demo.Publisher一模一样的配置文件，其Program.cs代码如下：&lt;/p&gt;
&lt;div style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;" id="codeSnippetWrapper"&gt;
&lt;div style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;" id="codeSnippet"&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum1"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum2"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Collections.Generic;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum3"&gt;   3:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Linq;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum4"&gt;   4:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Text;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum5"&gt;   5:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; EAS.Messages;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum6"&gt;   6:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum7"&gt;   7:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;namespace&lt;/span&gt; Demo.Subscriber&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum8"&gt;   8:&lt;/span&gt; {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum9"&gt;   9:&lt;/span&gt;     &lt;span style="color: #0000ff;"&gt;class&lt;/span&gt; Program&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum10"&gt;  10:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum11"&gt;  11:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; Main(&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt;[] args)&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum12"&gt;  12:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum13"&gt;  13:&lt;/span&gt;             var container = EAS.Objects.ContainerBuilder.BuilderDefault();&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum14"&gt;  14:&lt;/span&gt;             var bus = container.GetComponentInstance(&lt;span style="color: #006080;"&gt;"MessageBus"&lt;/span&gt;) &lt;span style="color: #0000ff;"&gt;as&lt;/span&gt; IMessageBus;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum15"&gt;  15:&lt;/span&gt;             System.Console.WriteLine(&lt;span style="color: #006080;"&gt;"Subscriber"&lt;/span&gt;);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum16"&gt;  16:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum17"&gt;  17:&lt;/span&gt;             bus.Subscribe(&lt;span style="color: #0000ff;"&gt;new&lt;/span&gt; Program(), &lt;span style="color: #006080;"&gt;"Subscriber1"&lt;/span&gt;, Demo.Messages.Topics.DEMO_TOPIC, MessageNotify);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum18"&gt;  18:&lt;/span&gt;             System.Console.ReadLine();&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum19"&gt;  19:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum20"&gt;  20:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum21"&gt;  21:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; MessageNotify(&lt;span style="color: #0000ff;"&gt;object&lt;/span&gt; m)&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum22"&gt;  22:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum23"&gt;  23:&lt;/span&gt;             Demo.Messages.Message message = m &lt;span style="color: #0000ff;"&gt;as&lt;/span&gt; Demo.Messages.Message;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum24"&gt;  24:&lt;/span&gt;             System.Console.WriteLine(&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt;.Format(&lt;span style="color: #006080;"&gt;"Subscribe:{0}"&lt;/span&gt;, message.ID));&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum25"&gt;  25:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum26"&gt;  26:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum27"&gt;  27:&lt;/span&gt; }&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 其中代码&lt;span style="color: #ff0000;"&gt;&lt;strong&gt;bus.Subscribe(new Program(), "Subscriber1", Demo.Messages.Topics.DEMO_TOPIC, MessageNotify);&lt;/strong&gt;&lt;/span&gt;：完成把消息订阅到MessageNotify通知函数之中。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 在Demo.Server项目之中，启动服务器并且开始接收订阅和发布：&lt;/p&gt;
&lt;div style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;" id="codeSnippetWrapper"&gt;
&lt;div style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;" id="codeSnippet"&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum1"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum2"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Collections.Generic;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum3"&gt;   3:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Linq;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum4"&gt;   4:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; System.Text;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum5"&gt;   5:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;using&lt;/span&gt; EAS.Sockets;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum6"&gt;   6:&lt;/span&gt;&amp;nbsp; &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum7"&gt;   7:&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;namespace&lt;/span&gt; Demo.Server&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum8"&gt;   8:&lt;/span&gt; {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum9"&gt;   9:&lt;/span&gt;     &lt;span style="color: #0000ff;"&gt;class&lt;/span&gt; Program&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum10"&gt;  10:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum11"&gt;  11:&lt;/span&gt;         &lt;span style="color: #0000ff;"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff;"&gt;void&lt;/span&gt; Main(&lt;span style="color: #0000ff;"&gt;string&lt;/span&gt;[] args)&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum12"&gt;  12:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum13"&gt;  13:&lt;/span&gt;             SocketServer socketServer = &lt;span style="color: #0000ff;"&gt;new&lt;/span&gt; SocketServer(128);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum14"&gt;  14:&lt;/span&gt;             socketServer.Port = 6606;&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum15"&gt;  15:&lt;/span&gt;             socketServer.Logger = &lt;span style="color: #0000ff;"&gt;new&lt;/span&gt; EAS.Loggers.ConsoleLogger(); &lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum16"&gt;  16:&lt;/span&gt;             socketServer.Initialize();&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum17"&gt;  17:&lt;/span&gt;             System.Console.WriteLine(&lt;span style="color: #006080;"&gt;"Server Starting..."&lt;/span&gt;);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum18"&gt;  18:&lt;/span&gt;             socketServer.StartServer();&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum19"&gt;  19:&lt;/span&gt;             System.Console.WriteLine(&lt;span style="color: #006080;"&gt;"Server Startup!"&lt;/span&gt;);&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum20"&gt;  20:&lt;/span&gt;             System.Console.ReadLine();&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum21"&gt;  21:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum22"&gt;  22:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;
&lt;pre&gt;&lt;span style="color: #606060;" id="lnum23"&gt;  23:&lt;/span&gt; }&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 到此为止，所有代码均已完成，是不是很简单，接下来，我们跑起来验证一下效果。&lt;/p&gt;
&lt;h1&gt;四、验证效果&lt;/h1&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 我们在编译输入目录Publish下先启动Demo.Server.exe，再启动两个Demo.Subscriber.exe,再启动一个Demo.Publisher.exe，在Demo.Publisher.exe控制台按回车键：&lt;/p&gt;
&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201408/140844398279514.png"&gt;&lt;img title="image" alt="image" style="background-image: none; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-width: 0px;" src="http://images.cnitblog.com/blog/19020/201408/140844402646816.png" width="786" height="426" border="0" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;OK，搞定。&lt;/p&gt;
&lt;h1&gt;五、源代码下载&lt;/h1&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 本程序的源代码已上传到服务器，请通过&lt;a href="http://112.74.66.105/downloads/eas/Demo.Pub_Sub.rar"&gt;http://112.74.66.105/downloads/eas/Demo.Pub_Sub.rar&lt;/a&gt;进行下载，如果在开发过程之中想要了解更多有关Socket通信框架以及更多AgileEAS.NET SOA中间件平台的技术资源，请通过AgileEAS.NET SOA 网站：&lt;a href="http://www.smarteas.net"&gt;http://www.smarteas.net&lt;/a&gt;的&lt;a href="http://www.smarteas.net/page/EAS_NET_Downloads.aspx"&gt;最新下载栏目&lt;/a&gt;进行下载。&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/p&gt;
&lt;h1&gt;六、问题反馈&lt;/h1&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 麻烦大家在通过视频进行学习的时候能及时把问题反馈给楼主，或者有什么需要改进的一些建议都请向楼主直接反馈,以下是联系方式：&lt;/p&gt;
&lt;p&gt;AgileEAS.NET SOA 网站：&lt;a href="http://www.smarteas.net/"&gt;http://www.smarteas.net&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;官方博客:&lt;a href="http://eastjade.cnblogs.com/"&gt;http://eastjade.cnblogs.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;楼主QQ:47920381,AgileEAS.NET&lt;/p&gt;
&lt;p&gt;QQ群：113723486（AgileEAS SOA 平台）/上限1000人&lt;/p&gt;
&lt;p&gt;199463175（AgileEAS SOA 交流）/上限1000人&lt;/p&gt;
&lt;p&gt;120661978（AgileEAS.NET 平台交流）/上限1000人&lt;/p&gt;
&lt;p&gt;邮件:james@agilelab.cn,mail.james@qq.com,&lt;/p&gt;
&lt;p&gt;电话：18629261335。&lt;/p&gt;</summary>
    <published>2014-08-14T07:26:00+00:00</published>
    <link rel="related" href="http://smarteas.net/post/2014/08/14/分享一个分布式消息总线，基于NET-Socket-Tcp的发布-订阅框架，附代码下载.aspx#comment" />
    <category term=".NET" />
    <category term="C#" />
    <category term="ESB" />
    <category term="SOA" />
    <category term="Socket" />
    <category term="消息中间件" />
    <dc:publisher>james</dc:publisher>
    <dc:description>     在很多MIS项目之中都有这样的需求，需要一个及时、高效的的通知机制，即比如当使用者A完成了任务X，就需要立即告知使用者B任务X已经完成，在通常的情况下，开发人中都是在使用者B所使用的程序之中写数据库轮循代码，这样就会产品一个很严重的两个问题，第一个问题是延迟，轮循机制要定时执行，必须会引起延迟，第二个问题是数据库压力过大，当进行高频度的轮循会生产大量的数据库查询，并且如果有大量的使用者进行轮循，那数据库的压力就更大了。</dc:description>
    <pingback:server>http://smarteas.net/pingback.axd</pingback:server>
    <pingback:target>http://smarteas.net/post.aspx?id=5ccfe18d-3dd0-4eda-8b51-ca4865c9e010</pingback:target>
    <slash:comments>0</slash:comments>
    <trackback:ping>http://smarteas.net/trackback.axd?id=5ccfe18d-3dd0-4eda-8b51-ca4865c9e010</trackback:ping>
    <wfw:comment>http://smarteas.net/post/2014/08/14/分享一个分布式消息总线，基于NET-Socket-Tcp的发布-订阅框架，附代码下载.aspx#comment</wfw:comment>
    <wfw:commentRss>http://smarteas.net/syndication.axd?post=5ccfe18d-3dd0-4eda-8b51-ca4865c9e010</wfw:commentRss>
  </entry>
  <entry>
    <id>http://smarteas.net/post/2014/04/25/零基础30分钟开启你的AgileEASNET-SOA-中间件平台开发之旅-.aspx</id>
    <title>零基础30分钟开启你的AgileEAS.NET SOA 中间件平台开发之旅 </title>
    <updated>2014-04-25T03:20:00+00:00</updated>
    <link rel="self" href="http://smarteas.net/post.aspx?id=e65685d1-e709-4c5a-a06c-a1dc868b8fab" />
    <link href="http://smarteas.net/post/2014/04/25/零基础30分钟开启你的AgileEASNET-SOA-中间件平台开发之旅-.aspx" />
    <author>
      <name>james</name>
    </author>
    <summary type="html">&lt;p&gt;零基础30分钟开启你快速开发之旅&lt;/p&gt;
&lt;h3&gt;1. 前言&lt;/h3&gt;
&lt;p&gt;接触AgileEAS.NET SOA 中间件平台（以下简称EAS.NET平台）有4个多月时间，经过试用认为可以把它作为一个开发的基础平台，开发团队可以把开发的重点放在需求的把控和项目的交付上，从而节省大量的时间，提高项目的开发、交付效率，降低对项目团队的深层技术要求，更重要的一点是EAS.NET平台的开发团队持续不断地维护和改进平台以及对反馈问题的快速反应，使我对平台的持续发展充满信心。&lt;/p&gt;
&lt;p&gt;由于EAS.NET平台的资料比较多，需要花费较多的时间才能够初步了解平台并能够使用平台开始开发，所以，在此，我把学习EAS.NET平台的过程总结了一下，形成本篇短文，希望能够让初次接触EAS.NET平台的朋友能够用30分钟时间，跟着本文案例实际操作一遍，对EAS.NET平台有一个真实的体验，节省大家的时间，也算对EAS.NET平台的一点回报，希望有更多的人了解它的优势并真正用好它，为EAS.NET平台的使用者带来价值，也为EAS.NET平台的开发者带来效益，最终实现合作共赢的美好结局。&lt;/p&gt;
&lt;p&gt;说明：此平台由此平台来自魏琼东开发所有，可免费进行商业化开发，不开源，可有偿提供源码和提供个性化定制服务。详细内容见作者网站&lt;a href="http://www.smarteas.net/"&gt;http://www.smarteas.net/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;注意：本文中涉及平台的功能操作，是通过运行Publish&lt;/strong&gt;&lt;strong&gt;目下的平台客户端EAS.WinClient.Start.exe&lt;/strong&gt;&lt;strong&gt;，以Administrator&lt;/strong&gt;&lt;strong&gt;账户、密码sa&lt;/strong&gt;&lt;strong&gt;登录系统进行操作的，如输入字典、函数管理、报表管理、角色管理、账户管理、模块管理、导航分组等。&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;2. 基础环境&lt;/h3&gt;
&lt;p&gt;开发环境：windows server 2008 64位、SQL SERVER 2008R2&lt;/p&gt;
&lt;p&gt;开发工具：VS 2012&lt;/p&gt;
&lt;p&gt;以上为本人的开发测试环境，如果与以上环境不同，遇到问题时请与平台作者联系。&lt;/p&gt;
&lt;p&gt;在正式开始开发之前，首先下载案例代码及相关程序包，下载地址：&lt;/p&gt;
&lt;p&gt;直接下载：&lt;a href="http://112.74.66.105/downloads/eas/Northwind.rar"&gt;http://112.74.66.105/downloads/eas/Northwind.rar&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;SVN更新：&lt;a href="https://112.74.66.105/svn/Northwind"&gt;https://112.74.66.105/svn/Northwind&lt;/a&gt;，登录用户:eas，密码eas.&lt;/p&gt;
&lt;p&gt;在开始工作之前，首先对VS2012添加EAS平台需要的控件。&lt;/p&gt;
&lt;p&gt;在工具箱中添加选项卡【EAS】&lt;/p&gt;
&lt;p&gt;通过【选择项】添加EAS.Windows、EAS.Data.Controls、EAS.GridReport.Controls三个组件中的控件。如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;a href="file:///C:/Users/Administrator/AppData/Local/Temp/WindowsLiveWriter1286139640/supfilesCF7D2E/clip_image002[4][2].jpg"&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241222319669973.png" alt="" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;案例测试环境配置：&lt;/p&gt;
&lt;p&gt;1、 在E盘新建目录code&lt;/p&gt;
&lt;p&gt;2、 在E盘code目录下新建目录Northwind2&lt;/p&gt;
&lt;p&gt;3、 把下载的压缩包解压到Northwind2下（如果是用svn更新获取，则把相应目录内容复制到此处），此时项目目录结果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241223154209498.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;4、 在VS中打开案例&lt;/p&gt;
&lt;p&gt;进入目录code，双击Northwind.sln&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241223243578733.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;在每个项目上右键/属性，修改生成页签下的目标平台为Any CPU，输出路径为E:\code\Northwind2\Publish，如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241223470605331.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241224046382762.png" alt="" width="847" height="427" /&gt;&lt;/p&gt;
&lt;p&gt;右键Northwind.AppStart，选择【设为启动项目】，便于调试。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241224420916320.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;打开Northwind.AppStart下的app.config配置文件，修改数据库名称为实际的数据库名称，此处为demo_x2。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241224556859265.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;恢复数据库：解压Data目录下的Northwind.rar文件到当前目录，获得数据库备份文件Northwind.bak。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241225043415989.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;打开sql server管理器，新建数据库demo_x2。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241225194355676.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;右键demo_x2，选择任务/还原/数据库&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241225319512754.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;选择源设备，添加E:\code\Northwind2\Data下的Northwind.bak&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241225446546072.png" alt="" width="805" height="511" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241225562164308.png" alt="" width="812" height="573" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241226087488912.png" alt="" width="823" height="543" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241226214824988.png" alt="" width="832" height="549" /&gt;&lt;/p&gt;
&lt;p&gt;选中选项标签，选中【覆盖现有数据库】，然后开始还原。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241226321859650.png" alt="" width="801" height="518" /&gt;&lt;/p&gt;
&lt;p&gt;完成数据库还原。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241226469209083.png" alt="" width="794" height="459" /&gt;&lt;/p&gt;
&lt;p&gt;分别在各个项目上右键进行重新生成，顺序为：&lt;/p&gt;
&lt;p&gt;Northwind.Entity&lt;/p&gt;
&lt;p&gt;Northwind.BLL.Contracts&lt;/p&gt;
&lt;p&gt;Northwind.BLL.Host&lt;/p&gt;
&lt;p&gt;Northwind.WinUI&lt;/p&gt;
&lt;p&gt;Northwind.AppStart&lt;/p&gt;
&lt;p&gt;完成后，启动程序进行调试。&lt;/p&gt;
&lt;p&gt;用户名：james，密码：sa&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241227041385857.png" alt="" width="789" height="457" /&gt;&lt;/p&gt;
&lt;p&gt;进入系统后，左上角有调试模块，点击后展开案例所有功能。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241227296542994.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;测试采购入库：在名称框中按空格键，弹出商品选择框，选中需要的商品，录入数量后回车，则入库单明细增加一条，如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241227457327982.png" alt="" width="770" height="210" /&gt;&lt;/p&gt;
&lt;p&gt;录入完成后，点击入库按钮，完成采购入库单。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241228091382666.png" alt="" width="768" height="319" /&gt;&lt;/p&gt;
&lt;p&gt;测试产品管理：&lt;/p&gt;
&lt;p&gt;在此模块进行产品资料的维护，新增、修改、删除等。&lt;/p&gt;
&lt;p&gt;进入模块后，首先点击查询按钮，系统会把已有的产品列出。&lt;/p&gt;
&lt;p&gt;选中一条可以对其进行修改或删除。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241228276237251.png" alt="" width="768" height="322" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241228408109255.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241228507166263.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241231010918066.png" alt="" width="669" height="287" /&gt;&lt;/p&gt;
&lt;h3&gt;3. 开始开发&lt;/h3&gt;
&lt;p&gt;建立开发目录：新建E：\code\Northwind目录，然后在Northwind下新建以下目录：&lt;/p&gt;
&lt;p&gt;AppServer 系统程序发布目录&lt;/p&gt;
&lt;p&gt;Code 程序代码&lt;/p&gt;
&lt;p&gt;把案例代码Northwind2目录下的eas.publish.cmd、EAS.Publisher.exe复制到Northwind目录下；&lt;/p&gt;
&lt;p&gt;把案例代码Northwind2目录下的Documents、Publish目录整个复制到Northwind目录下。&lt;/p&gt;
&lt;p&gt;Documents 文档&lt;/p&gt;
&lt;p&gt;Publish 引用的dll、系统工具文件及开发编译后的程序文件&lt;/p&gt;
&lt;p&gt;完成后的目录结构如下：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241231224513407.png" alt="" /&gt;&lt;/p&gt;
&lt;h4&gt;3.1. 生成数据实体代码&lt;/h4&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241231363735254.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;进入publish目录，双击EAS.MetaDesigner.exe，打开领域模型设计器，在领域模型设计器中打开documents目录下的Northwind.sdm领域设计文档，如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241231477793302.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;领域模型设计器可以展示各数据实体间的逻辑关系&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241232022328819.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;通过设计器可以设定数据对象的详细内容&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241232198418008.png" alt="" width="806" height="406" /&gt;&lt;/p&gt;
&lt;p&gt;可以设定数据对象之间的引用关系，如销售订单上引用的员工、客户等&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241232431546018.png" alt="" width="789" height="312" /&gt;&lt;/p&gt;
&lt;p&gt;可以设定数据对象之间的父子关系，如销售订单和销售订单明细&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241233010131664.png" alt="" width="798" height="296" /&gt;&lt;/p&gt;
&lt;p&gt;鼠标右键点击解决方案，点击【参数设定】&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241233133574324.png" alt="" width="787" height="269" /&gt;&lt;/p&gt;
&lt;p&gt;设定项目名称、项目标题都为Northwind，程序语言选择C#，选定自动属性，命名空间：Northwind，设定输出目录为E:\code\Northwind\code&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241233299515455.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;点击输出/生成代码/EAS或在解决方案上右键，选择生成代码&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241233495607597.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;选中生成解决方案，点击生成。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241234081235627.png" alt="" /&gt;&lt;/p&gt;
&lt;h4&gt;3.2. 生成数据库脚本&lt;/h4&gt;
&lt;p&gt;点击【生成脚本】按钮，创建数据库结构创建脚本。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241235005916831.png" alt="" /&gt;&lt;/p&gt;
&lt;h4&gt;3.3. 生成窗体代码&lt;/h4&gt;
&lt;p&gt;平台提供了窗体设计工具EAS.FormDesigner，可以辅助快速生成列表类单据和录入类单据。案例中附带有例子，有兴趣的可以研究一下，本文操作采用手工创建窗体，手工编写代码方式，便于读者能够把握使用平台时程序代码和普通程序代码的区别。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241235155911249.png" alt="" /&gt;&lt;/p&gt;
&lt;h5&gt;3.3.1. 列表窗体&lt;/h5&gt;
&lt;p&gt;启动FormDesigner，打开documents下的Northwind.sdm，结果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241235300912752.png" alt="" /&gt;&lt;/p&gt;
&lt;h5&gt;3.3.2. 编辑窗体&lt;/h5&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241236261078637.png" alt="" width="740" height="416" /&gt;&lt;/p&gt;
&lt;p&gt;平台支持生成winform、webform、wpf、silverlight四种不同的界面代码。&lt;/p&gt;
&lt;p&gt;界面代码为系统自动生成：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241237231071824.png" alt="" width="773" height="435" /&gt;&lt;/p&gt;
&lt;p&gt;在此可以进行业务代码的编写，完成后，&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241238113735246.png" alt="" width="788" height="443" /&gt;&lt;/p&gt;
&lt;p&gt;代码完成后，通过文件/输出代码，然后在VS中打开解决方案进行代码的调试和修改。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241238264353177.png" alt="" width="777" height="437" /&gt;&lt;/p&gt;
&lt;h4&gt;3.4. 创建数据库&lt;/h4&gt;
&lt;h5&gt;3.4.1. 新建数据库&lt;/h5&gt;
&lt;p&gt;通过sql server管理器创建新数据库Northwind。&lt;/p&gt;
&lt;h5&gt;3.4.2. 维护数据库&lt;/h5&gt;
&lt;p&gt;启动平台数据库初始化工具EAS.DbInitializer&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241238482791904.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241239104825587.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;系统支持四种数据库系统，这里我们选择sql server，下一步：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241239316231930.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;指定服务器，如果是本机则输入.即可。选中集成身份验证，点击测试链接，系统提示测试连接成功。然后，通过数据库下拉框选中新创建的Northwind。也可以使用该工具直接建立新的数据库。点击完成，系统开始对数据库进行初始化。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241239454358575.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241240197954379.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;在查询分析其中执行3.2.生成的数据库脚本，执行前注释掉第3、4行。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241241018418134.png" alt="" width="724" height="407" /&gt;&lt;/p&gt;
&lt;h4&gt;3.5. 打开解决方案&lt;/h4&gt;
&lt;p&gt;进入e:\code\Northwind\code，双击Northwind.sln打开解决方案。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241241324354153.png" alt="" /&gt;&lt;/p&gt;
&lt;h5&gt;3.5.1. 设定项目编译生成路径&lt;/h5&gt;
&lt;p&gt;右键项目Northwind.Entities，选择属性&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241241430299316.png" alt="" width="729" height="410" /&gt;&lt;/p&gt;
&lt;p&gt;设定生成/配置为所有配置&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241242012489917.png" alt="" /&gt;设定输出路径为：e:\code\Northwind\Publish&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241242294207811.png" alt="" width="746" height="405" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241242475769197.png" alt="" width="719" height="404" /&gt;&lt;/p&gt;
&lt;p&gt;右键Northwind.Entities，对项目进行重新生成。&lt;/p&gt;
&lt;h5&gt;3.5.2. 维护数据字典&lt;/h5&gt;
&lt;p&gt;在进行进一步的编码工作之前，首先进行系统配置，并定义开发需要的输入字典。&lt;/p&gt;
&lt;p&gt;运行平台系统配置工具EAS.Configure，设定连接数据库的方式等。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241243134828749.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;选择【生成客户端配置（数据库直连）】项，同时选中【保存配置信息到AgileEAS.NET SOA平台相关配置文件】。下一步&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241244086383467.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;指定数据库服务器、身份验证信息、数据库名称等。完成后，点击下一步&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241244334828975.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;点击完成结束配置设置。&lt;/p&gt;
&lt;p&gt;双击EAS.WinClient.Start.exe启动平台客户端，用户名：Administrator，密码：sa&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241244500914336.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;登录系统后选择菜单开发相关/输入字典&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241245018884799.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241245136236046.png" alt="" width="736" height="345" /&gt;&lt;/p&gt;
&lt;p&gt;新建输入字典&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241245239824281.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;名称为产品分类，设定数据类型：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241245372791486.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;点击浏览，选择刚刚编译的Northwind.Entities.dll&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241245524988603.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;选择产品分类数据对象&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241247149667642.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;确定&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241247266543904.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;选中【启用缓存】，设定缓存属性为LMTime&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241247363574739.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;设定码值属性CategoryID&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241247464662219.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;设定显示属性CategoryName&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241247561381298.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241248123102556.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;显示设置：设定哪些项目在字典中显示&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241248227794991.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;设定搜索条件&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241248406859919.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;确定后完成，同样增加商品字典、客户字典、产品库存三个输入字典，具体可以参考案例中的输入字典进行设置。&lt;/p&gt;
&lt;p&gt;商品字典对应Northwind.Entities.Product数据对象，客户字典对应Northwind.Entities.Customer数据对象，产品库存对应Northwind.Entities.Stock数据对象。&lt;/p&gt;
&lt;p&gt;在进行正式的编码工作之前，还需要建立启动项：&lt;/p&gt;
&lt;p&gt;在解决方案中添加项，类型为winform应用程序，名称为Northwind.AppStart&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241248516079283.png" alt="" width="694" height="420" /&gt;&lt;/p&gt;
&lt;p&gt;删除form1.cs&lt;/p&gt;
&lt;p&gt;修改app.config&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241249044044574.png" alt="" width="751" height="422" /&gt;&lt;/p&gt;
&lt;p&gt;把案例相同文件中的内容复制过来，修改数据库名称为Northwind&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241249195766706.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;修改Program.cs，从案例对应文件复制过来即可。&lt;/p&gt;
&lt;p&gt;添加引用类库EAS.Data、EAS.MicroKernel、EAS.WinClient、EAS.Windows，路径为e:\code\Northwind\Publish。添加引用前后的不同。&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;把Northwind.AppStart设为启动项目。&lt;/p&gt;
&lt;p&gt;注意：以下2步，所有新添加的项目都要进行设置。&lt;/p&gt;
&lt;p&gt;Northwind.AppStart鼠标右键，属性，设置目标框架为.net4（VS2012默认为.net4.5）&lt;/p&gt;
&lt;p&gt;设置输出路径为e:\code\Northwind\Publish，编译。&lt;/p&gt;
&lt;h5&gt;3.5.3. 两层（无业务层）模式开发、打印及按钮级权限控制&lt;/h5&gt;
&lt;p&gt;添加项目Northwind.WinUI，类型为类库，删除class1.cs文件&lt;/p&gt;
&lt;p&gt;添加引用类库EAS.Data、EAS.MicroKernel、EAS.Data.Controls、EAS.Windows、EAS.Explorer、EAS.Explorer.Entities、EAS.GReport.Controls、EAS.Report.Controls、Northwind.Entities&lt;/p&gt;
&lt;h6&gt;3.5.3.1. 用户控件类型窗体&lt;/h6&gt;
&lt;p&gt;在项目Northwind.WinUI添加用户控件CategoryAddIn，产品分类&lt;/p&gt;
&lt;p&gt;该类窗体可以作为平台插件，添加到平台功能树上，有2段代码为平台约定，必须添加。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241250010451804.png" alt="" width="770" height="464" /&gt;&lt;/p&gt;
&lt;p&gt;在窗体上添加控件（可以直接从案例对应窗体上复制，减少操作时间）&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241250226705831.png" alt="" width="777" height="358" /&gt;&lt;/p&gt;
&lt;p&gt;设定dataGridView1的datasource为categoryBindingSource&lt;/p&gt;
&lt;p&gt;dataGridView1上鼠标右键，选择编辑列&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241250337792437.png" alt="" width="742" height="331" /&gt;&lt;/p&gt;
&lt;p&gt;在代码模式下添加引用&lt;/p&gt;
&lt;p&gt;using EAS.Modularization;&lt;/p&gt;
&lt;p&gt;using EAS.Data.Access;&lt;/p&gt;
&lt;p&gt;using EAS.Data.ORM;&lt;/p&gt;
&lt;p&gt;using EAS.Data.Linq;&lt;/p&gt;
&lt;p&gt;using Northwind.Entities;&lt;/p&gt;
&lt;p&gt;using EAS;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241250429355372.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;增加以下一行代码，此为平台约定的格式，必须有。&lt;/p&gt;
&lt;p&gt;[Module("0A1745F3-7F95-4898-8E51-539818DAB95C", "产品分类", "")]&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241250552481978.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;选中GUID字符串，然后选择工具、生成GUID，生成新的GUID，替换原GUID：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241251041236700.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;替换后的结果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241251130605935.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;添加以下代码到指定位置&lt;/p&gt;
&lt;p&gt;//以下代码为平台约定内容&lt;/p&gt;
&lt;p&gt;[ModuleStart]&lt;/p&gt;
&lt;p&gt;public void StartEx()&lt;/p&gt;
&lt;p&gt;{&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;//以上代码为平台约定内容&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241252172634089.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;在Northwind.Entities数据对象Category中添加以下代码：&lt;/p&gt;
&lt;p&gt;public int GetMaxID()&lt;/p&gt;
&lt;p&gt;{&lt;/p&gt;
&lt;p&gt;ParameterCollection pc = new ParameterCollection();&lt;/p&gt;
&lt;p&gt;pc.Add("ITEMKEY", this.DbTableName);&lt;/p&gt;
&lt;p&gt;return (int)this.DataAccessor.Query("exec GetIdentityValue @itemkey=?", pc);&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;public override string ToString()&lt;/p&gt;
&lt;p&gt;{&lt;/p&gt;
&lt;p&gt;return this.CategoryName;&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;h6&gt;3.5.3.2. 普通windows窗体&lt;/h6&gt;
&lt;p&gt;此类型窗体的编程与普通程序相同，没有特殊要求。&lt;/p&gt;
&lt;p&gt;在Northwind.WinUI增加ProductEditor，产品录入/修改界面&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241252333265847.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;界面控件和代码从案例中复制过来即可。&lt;/p&gt;
&lt;h6&gt;3.5.3.3. 输入字典设置&lt;/h6&gt;
&lt;p&gt;平台提供了输入字典通用组件，可以很方面的实现软件数据录入界面中常见的选择录入方式（例如在入库单上选择仓库、部门、人员、产品等），输入指点我们在4.2.2中已经维护，这里直接调用即可。&lt;/p&gt;
&lt;p&gt;以下重点说明输入字典的设置：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241252485299735.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;选中产品种类后的文本框，把前面通过开发相关设置的产品分类输入字典的GUID（上图红框中的内容）复制到文本框的属性【textBoxAutoComplete1上的MetadataID】，如下图所示。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241253008108883.png" alt="" width="665" height="228" /&gt;&lt;/p&gt;
&lt;p&gt;选中textBoxAutoComplete1组件，设置其Enabled属性为true，这样，就可以通过帮助字典的方式输入产品种类。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241253146385461.png" alt="" width="715" height="154" /&gt;&lt;/p&gt;
&lt;h6&gt;3.5.3.4. 打印设置&lt;/h6&gt;
&lt;p&gt;平台提供的打印功能使用起来非常的便捷，只需要2步就能够实现单据或报表的打印，而且打印可以在使用过程中进行修改，不需要重新修改代码及重新编译程序。&lt;/p&gt;
&lt;p&gt;1、 通过平台的报表管理工具设计打印格式；（详细操作参见4.2.5.报表及数据导出）&lt;/p&gt;
&lt;p&gt;2、 在需要打印的地方通过报表名称直接调用（案例中提供了打印的样例代码）。&lt;/p&gt;
&lt;p&gt;这里我们通过报表管理定义了一张打印格式【产品列表】，然后，把报表名称填入打印按钮对应的代码中即完成了打印的调用，如下：&lt;/p&gt;
&lt;p&gt;this.Report.Name = "产品列表"; //在此处修改报表名称&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241253274984265.png" alt="" /&gt;&lt;/p&gt;
&lt;h6&gt;3.5.3.5. 按钮级权限控制&lt;/h6&gt;
&lt;p&gt;处理功能模块级的控制外，平台还提供了更加严格的权限控制&amp;mdash;&amp;mdash;按钮级权限控制。&lt;/p&gt;
&lt;p&gt;平台以函数管理的形式提供了按钮级的权限控制，具体操作如下：&lt;/p&gt;
&lt;p&gt;1、通过平台系统管理/函数管理增加需要进行管理的按钮权限控制函数。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241253418411283.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;2、添加函数【删除权限控制】&lt;/p&gt;
&lt;p&gt;对产品管理列表的删除按钮权限进行控制，如无权限则提示无权限，不允许删除。&lt;/p&gt;
&lt;p&gt;函数的调用时通过GUID进行的，在需要控制的按钮相应的代码中把GUID填入。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241253549668773.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;完成后，确定。然后选中函数并点击属性：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241254083269491.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;选择【安全】页签进行函数的授权。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241254249988364.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;也可以通过角色管理进行授权。如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;a href="file:///C:/Users/Administrator/AppData/Local/Temp/WindowsLiveWriter1286139640/supfilesCF7D2E/clip_image187[3].jpg"&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241254419049465.png" alt="" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="file:///C:/Users/Administrator/AppData/Local/Temp/WindowsLiveWriter1286139640/supfilesCF7D2E/clip_image187[3].jpg"&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241254539041400.png" alt="" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="file:///C:/Users/Administrator/AppData/Local/Temp/WindowsLiveWriter1286139640/supfilesCF7D2E/clip_image187[3].jpg"&gt;&amp;nbsp;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;设置完成后，在需要控制的按钮代码中增加如下2行代码即完成按钮级权限控制的设计开发。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241255255763691.png" alt="" /&gt;&lt;/p&gt;
&lt;h6&gt;3.5.3.6. 程序测试&lt;/h6&gt;
&lt;p&gt;启动程序，登录系统，用户名：Administrator，密码：sa&lt;/p&gt;
&lt;p&gt;录入产品分类&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241256548104595.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;录入产品：&lt;/p&gt;
&lt;p&gt;在产品种类文本框单击空格键，弹出产品分类输入字典，选择对应的分类即可。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241257101386914.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;录入测试数据&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241257243416974.png" alt="" width="686" height="306" /&gt;&lt;/p&gt;
&lt;p&gt;打印测试：点击【打印】按钮，系统弹出打印预览窗口&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241257395451863.png" alt="" width="688" height="357" /&gt;&lt;/p&gt;
&lt;p&gt;删除按钮权限控制测试：在未经授权的情况下结果如下图所示：（此功能在调试模式下无效，需要进行模块安装、授权后才能够正常）&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241257505457969.png" alt="" /&gt;&lt;/p&gt;
&lt;h5&gt;3.5.4. 多层（有业务层）模式开发&lt;/h5&gt;
&lt;p&gt;参照案例代码，添加两个项目&lt;/p&gt;
&lt;p&gt;Northwind.BLL.Contracts作为服务端与客户端的接口&lt;/p&gt;
&lt;p&gt;Northwind.BLL.Host 服务端业务处理逻辑&lt;/p&gt;
&lt;p&gt;设定目标框架为.net 4.0，目标平台为Any CPU，输出路径为Northwind下的Publish&lt;/p&gt;
&lt;h6&gt;3.5.4.1. 接口层开发&lt;/h6&gt;
&lt;p&gt;Northwind.BLL.Contracts：&lt;/p&gt;
&lt;p&gt;添加类库引用：EAS.Data、EAS.MicroKernel、Northwind.Entities&lt;/p&gt;
&lt;p&gt;新建接口IInService，处理采购入库业务。&lt;/p&gt;
&lt;p&gt;添加代码&lt;/p&gt;
&lt;p&gt;using Northwind.Entities;&lt;/p&gt;
&lt;p&gt;其它代码如图所示，详见案例对应代码：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241258049662730.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;编译生成Northwind.BLL.Contracts.dll&lt;/p&gt;
&lt;h6&gt;3.5.4.2. 业务逻辑层开发&lt;/h6&gt;
&lt;p&gt;对应的，在Northwind.BLL.Host中添加类库引用EAS.Data、EAS.MicroKernel、Northwind.Entities、Northwind.BLL.Contracts&lt;/p&gt;
&lt;p&gt;修改属性文件Properties目录下的AssemblyInfo&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241301115299133.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;修改前： 修改后增加了红框中的2行内容：&lt;/p&gt;
&lt;p&gt;&lt;a href="file:///C:/Users/Administrator/AppData/Local/Temp/WindowsLiveWriter1286139640/supfilesCF7D2E/clip_image207[3].jpg"&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241301256239694.png" alt="" width="258" height="238" /&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241301382323042.png" alt="" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;添加InService类，具体实现Northwind.BLL.Contracts中定义的接口&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241302072792035.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;添加类库引用代码&lt;/p&gt;
&lt;p&gt;using EAS.Data.Linq;&lt;/p&gt;
&lt;p&gt;using EAS.Data.ORM;&lt;/p&gt;
&lt;p&gt;using Northwind.Entities;&lt;/p&gt;
&lt;p&gt;using EAS.Services;&lt;/p&gt;
&lt;p&gt;修改代码如下：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241302227485609.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;到此就完成了接口层和业务逻辑层的开发。&lt;/p&gt;
&lt;h6&gt;3.5.4.3. UI层开发&lt;/h6&gt;
&lt;p&gt;首先在Northwind.WinUI中添加对Northwind.BLL.Contracts的应用&lt;/p&gt;
&lt;p&gt;添加用户组件ProductInAddIn，用于录入采购入库单&lt;/p&gt;
&lt;p&gt;界面参照案例设计、布局（可以直接复制过来，以节省时间）&lt;/p&gt;
&lt;p&gt;参照案例添加对应的代码&lt;/p&gt;
&lt;p&gt;参照案例，在Northwind.Entities的数据对象InBill、InBillDetail添加GetMaxID()，完成重新编译。&lt;/p&gt;
&lt;p&gt;参考案例添加LoginInfo类。&lt;/p&gt;
&lt;p&gt;为文本框tbName的属性【textBoxAutoComplete1上的MedaDataID】填入4.2.3.3中设置的输入字典【商品字典】的编码。&lt;/p&gt;
&lt;p&gt;为文本框控件tbNumber绑定tbNumber_KeyDown事件；&lt;/p&gt;
&lt;p&gt;为按钮控件btnOK绑定btnOK_Click事件；&lt;/p&gt;
&lt;p&gt;为数据字典控件textBoxAutoComplete1绑定textBoxAutoComplete1_InputComplete事件。&lt;/p&gt;
&lt;p&gt;完成后重新编译UI层。&lt;/p&gt;
&lt;p&gt;运行测试：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241302344826857.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;采购入库菜单已经出现，点击开始录入数据&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241302458573149.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241302574047154.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;到此，所有的开发和编码工作基本完成。&lt;/p&gt;
&lt;p&gt;其它功能模块的开发可以参考上述步骤及案例全部做一遍，以加强对平台的掌握。&lt;/p&gt;
&lt;h5&gt;3.5.5. 报表及数据导出设计开发&lt;/h5&gt;
&lt;p&gt;平台提供了强大的打印设计、报表设计及自定义报表。&lt;/p&gt;
&lt;p&gt;为了前面我们测试的打印功能，我们在此设计【产品列表】报表，以Administrator账户进入系统，选择开发相关/报表管理（注意：此处是报表管理而不是GR报表管理）：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241303167638541.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;点击添加，新建报表&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241303300601045.png" alt="" width="740" height="265" /&gt;&lt;/p&gt;
&lt;p&gt;录入报表名称：产品列表（平台要求报表名称必须唯一，作为打印调用的标识），查询语句、查询参数在此不做处理，确定&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241303426233107.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;选中报表然后点击设计按钮，进行报表内容和格式的设计，在文件/新建/选择对象报表&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241303536383443.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;在报表信息页签录入报表名称：产品列表及其他信息&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241304039827447.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;在数据对象页签程序集选择e:\code\Northwind\Publish\Northwind.Entities.dll&lt;/p&gt;
&lt;p&gt;对象选择Product，如下图所示&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241304267795017.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;调整格式后，结果如下：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241304411543792.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;保存，完成报表的设计。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241304543733254.png" alt="" width="708" height="232" /&gt;&lt;/p&gt;
&lt;p&gt;报表实际效果。报表支持4中数据导出格式：Excel、Word、Html、Pdf。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241305080914630.png" alt="" width="702" height="364" /&gt;&lt;/p&gt;
&lt;p&gt;如导出为excel：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241305254209902.png" alt="" width="709" height="459" /&gt;&lt;/p&gt;
&lt;p&gt;导出后格式如下：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241305422796018.png" alt="" /&gt;&lt;/p&gt;
&lt;h3&gt;4. 正式运行系统&lt;/h3&gt;
&lt;h4&gt;4.1. 系统部署&lt;/h4&gt;
&lt;h5&gt;4.1.1. 模块安装&lt;/h5&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241305571709935.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241306080602841.png" alt="" /&gt;&lt;/p&gt;
&lt;h5&gt;4.1.2. 建立导航&lt;/h5&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241306191074933.png" alt="" /&gt;&lt;/p&gt;
&lt;h5&gt;4.1.3. 发布为分布式模式&lt;/h5&gt;
&lt;p&gt;修改E:\code\Northwind下的eas.publish.cmd批处理文件，把以下内容添加到文件后面：&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241306305296210.png" alt="" width="711" height="154" /&gt;&lt;/p&gt;
&lt;p&gt;运行E:\code\Northwind下的EAS.Publisher.exe完成服务端及客户端程序文件的发布&lt;/p&gt;
&lt;p&gt;配置服务端&lt;/p&gt;
&lt;p&gt;运行E:\code\Northwind\AppServer\Bin下的EAS.Configure.exe，配置为分布式模式，选择第三项【生成SOA分布式服务配置】如图&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241306438109185.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241306590609060.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241307122639994.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;运行同目录下的soaserver.start.bat文件，启动SOA服务，如图所示&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241307237639014.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;配置客户端&lt;/p&gt;
&lt;p&gt;运行E:\code\Northwind\AppServer\xClient\files下的EAS.Configure.exe进行客户端配置&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241307367793304.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241307479829881.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241307581075888.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;运行同目录下的EAS.WinClient.Start.exe，启动客户端，登录系统，运行正常&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241308115607577.png" alt="" width="717" height="424" /&gt;&lt;/p&gt;
&lt;h4&gt;4.2. 角色维护&lt;/h4&gt;
&lt;p&gt;以Administrator账户登录，进行角色维护&lt;/p&gt;
&lt;p&gt;建立角色&lt;/p&gt;
&lt;p&gt;分配权限&lt;/p&gt;
&lt;p&gt;分配成员&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241308215298099.png" alt="" /&gt;&lt;/p&gt;
&lt;h4&gt;4.3. 账户维护&lt;/h4&gt;
&lt;p&gt;新建账户&lt;/p&gt;
&lt;p&gt;制定隶属角色&lt;/p&gt;
&lt;p&gt;单独权限分配&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241308322486992.png" alt="" /&gt;&lt;/p&gt;
&lt;h4&gt;4.4. 权限分配&lt;/h4&gt;
&lt;p&gt;平台既可以在角色管理中对角色统一授权&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241308524358790.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;平台又可以在账户管理中对账户单独授权，管理比较灵活方便。&lt;/p&gt;
&lt;p&gt;&lt;img src="http://images.cnitblog.com/i/573530/201404/241309056236495.png" alt="" /&gt;&lt;/p&gt;
&lt;h3&gt;5. 应用领域&lt;/h3&gt;
&lt;p&gt;结合我对平台的理解，我认为平台适用面还是很广的，总结为以下四个方面：&lt;/p&gt;
&lt;h4&gt;5.1. 全新软件项目的快速开发平台&lt;/h4&gt;
&lt;p&gt;对于全新的软件项目，无论是产品化开发还是项目化开发，都可以考虑用EAS.NET平台，可以减少系统管理方面的开发。&lt;/p&gt;
&lt;h4&gt;5.2. 已有系统的快速二次开发平台&lt;/h4&gt;
&lt;p&gt;对于在已有成熟系统上进行二次开发来讲，平台更有价值，特别是平台的输入字典可以充分利用原有系统的数据字典，只需要开发新增的录入单据即可，单据上的所有参照项只需要通过平台设置输入字典就可以实现与原有系统的数据字典共享了，报表既可以用原有系统的报表工具（如果有的话）也可以用系统的GR报表管理设计报表并发布为功能模块，实现快速二次开发。&lt;/p&gt;
&lt;h4&gt;5.3. 老旧系统的快速升级开发平台&lt;/h4&gt;
&lt;p&gt;对于一些技术相对落后、维护工作量大、客户应用较深的系统，也可以在EAS.NET平台的基础上，分模块逐步升级，所有的业务逻辑仍然可以保持与老系统一致，但系统的扩展性、稳定性、可维护性方面则有很大的改进。&lt;/p&gt;
&lt;p&gt;另一种系统由于原来主要是针对sql server开发的，现在有项目需要支持oracle数据库，也可以考虑使用EAS.NET对老系统进行扩展升级，如果原来就是基于.net技术，用C#开发的，整体开发工作量相对比较小。&lt;/p&gt;
&lt;h4&gt;5.4. 多系统应用快速整合开发平台&lt;/h4&gt;
&lt;p&gt;对于一些大型集团企业，内部使用了许多系统，但作为集团领导经常需要结合多个系统的综合数据，通过EAS.NET平台可以搭建企业内部的数据交换中心和数据仓库，并可以在此基础上建立一套决策分析系统。如果能够充分发挥EAS.NET工作流平台的优势，还可以通过工作流把各个系统有机联系起来。&lt;/p&gt;
&lt;h3&gt;6. 适用对象&lt;/h3&gt;
&lt;p&gt;此处的分类方式以对.net开发技术掌握的程度为标准。&lt;/p&gt;
&lt;h4&gt;6.1. 零基础&lt;/h4&gt;
&lt;p&gt;主要针对那些小微软件企业的老板们，他们多数擅长业务，不懂技术，或者只是简单的了解技术，没有实力建立一个强大的开发队伍，多数只有1~2名技术人员，这些既负责一些简单的开发工作，还要负责大量的客户服务。这些公司可以考虑使用EAS.NET平台作为基础开发平台，技术人员只要能够会用C#写窗体和简单的业务逻辑即可。&lt;/p&gt;
&lt;h4&gt;6.2. 初级水平&lt;/h4&gt;
&lt;p&gt;主要针对一些解除开发1~3年的开发人员，已经基本能够做一个模块级的开发，但由于没有时间积累，没有自己的整体开发框架。这类人员也可以考虑把EAS.NET平台掌握后跳槽到新的公司做他们的技术负责人，把EAS.NET平台作为公司的开发平台，为公司快速带来效益，也可以使自己的收入在短期内实现翻番。&lt;/p&gt;
&lt;h4&gt;6.3. 中级水平&lt;/h4&gt;
&lt;p&gt;主要针对已经从事开发工作多年的开发人员或者项目团队的负责人，他们多数有一定的技术水平，也形成了自己的开发框架，但框架存在着这样或者那样的不足，为解决框架问题而忙碌不休。建议这些朋友可以考虑选择EAS.NET平台作为自己或者项目组的开发平台，提高开发交付效率，解放自己，用更多的时间去休闲，去陪陪家人、朋友。&lt;/p&gt;
&lt;h3&gt;7. 结束语&lt;/h3&gt;
&lt;p&gt;以上为个人对EAS.NET平台的认识和理解，EAS.NET平台还有可以改进提高的地方，希望喜欢这个平台以及使用这个平台的朋友们能够发挥各自的优势，让平台更强大、更好用、更有效，为我们大家带来更大的回报。在此谢谢作者的无私奉献，最后，预祝EAS.NET平台发展的越来越好。&lt;/p&gt;
&lt;p&gt;欢迎大家交流沟通，QQ：709565426；邮箱：wy_erp@126.com&lt;/p&gt;</summary>
    <published>2014-04-25T03:20:00+00:00</published>
    <link rel="related" href="http://smarteas.net/post/2014/04/25/零基础30分钟开启你的AgileEASNET-SOA-中间件平台开发之旅-.aspx#comment" />
    <category term=".NET" />
    <category term="C#" />
    <category term="ESB" />
    <category term="SOA" />
    <category term="Socket" />
    <category term="WCF" />
    <category term="三层架构" />
    <category term="中间件" />
    <category term="云计算" />
    <category term="平台" />
    <category term="应答" />
    <category term="报表" />
    <category term="权限" />
    <category term="框架" />
    <category term="模块" />
    <category term="用户" />
    <category term="负载均衡" />
    <category term="通信框架" />
    <dc:publisher>james</dc:publisher>
    <dc:description>接触AgileEAS.NET SOA 中间件平台（以下简称EAS.NET平台）有4个多月时间，经过试用认为可以把它作为一个开发的基础平台，开发团队可以把开发的重点放在需求的把控和项目的交付上，从而节省大量的时间，提高项目的开发、交付效率，降低对项目团队的深层技术要求，更重要的一点是EAS.NET平台的开发团队持续不断地维护和改进平台以及对反馈问题的快速反应，使我对平台的持续发展充满信心。

由于EAS.NET平台的资料比较多，需要花费较多的时间才能够初步了解平台并能够使用平台开始开发，所以，在此，我把学习EAS.NET平台的过程总结了一下，形成本篇短文，希望能够让初次接触EAS.NET平台的朋友能够用30分钟时间，跟着本文案例实际操作一遍，对EAS.NET平台有一个真实的体验，节省大家的时间，也算对EAS.NET平台的一点回报，希望有更多的人了解它的优势并真正用好它，为EAS.NET平台的使用者带来价值，也为EAS.NET平台的开发者带来效益，最终实现合作共赢的美好结局。</dc:description>
    <pingback:server>http://smarteas.net/pingback.axd</pingback:server>
    <pingback:target>http://smarteas.net/post.aspx?id=e65685d1-e709-4c5a-a06c-a1dc868b8fab</pingback:target>
    <slash:comments>0</slash:comments>
    <trackback:ping>http://smarteas.net/trackback.axd?id=e65685d1-e709-4c5a-a06c-a1dc868b8fab</trackback:ping>
    <wfw:comment>http://smarteas.net/post/2014/04/25/零基础30分钟开启你的AgileEASNET-SOA-中间件平台开发之旅-.aspx#comment</wfw:comment>
    <wfw:commentRss>http://smarteas.net/syndication.axd?post=e65685d1-e709-4c5a-a06c-a1dc868b8fab</wfw:commentRss>
  </entry>
  <entry>
    <id>http://smarteas.net/post/2014/04/14/3小时搞定一个简单的MIS系统案例Northwind，有视频、有源代码下载、有真相.aspx</id>
    <title>3小时搞定一个简单的MIS系统案例Northwind，有视频、有源代码下载、有真相</title>
    <updated>2014-04-14T06:09:10+00:00</updated>
    <link rel="self" href="http://smarteas.net/post.aspx?id=e0d85221-e632-4b87-903e-a0c667bab8ab" />
    <link href="http://smarteas.net/post/2014/04/14/3小时搞定一个简单的MIS系统案例Northwind，有视频、有源代码下载、有真相.aspx" />
    <author>
      <name>james</name>
    </author>
    <summary type="html">&lt;h1&gt;一、瞎扯框架、架构&lt;/h1&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 楼主自从1998年从C语言、MASM、Foxbase开始学计算机开始接触这个行当16年以来，2001年干第一份与程序、软件、然后是各种屌的东西开始，差不多干了13年了，这13年来，用过VF\VC\VB\C#搞过N多N多的项目，记得在2002年、2003年那个疯狂并且操蛋的年代，在整天VB代码与各种SQL、各种Bug、各种需求敲打、各种吐血的需求变更、各种大半夜还坐在医院的小板凳的加班与折磨之中，慢慢的学会去思考，他妈的这是为什么，写了程序那么的折磨人，从那时开始，就接触各种软件工程相关的东西，思考着是否可以发现能解决或者改变这种现关的东西，记得那个时间好像挺流行一本书，叫《银弹》，在那个年龄，也尝试对需求、变更进行控制和管理，但是在野蛮生长的中国软件业，用户这个上帝才是帮一位的，我们也尝试使用VB+COM/COM+进行加载和框架的提练，进行某些代码和架构级别的规范，试图使用那些技术去实现分布式架构的应用，以及通过插件机制去实现对需求的小范围控制，只是基于那些机制的先天不足和营养不良的环境，对项目与企业的现状改变不是多少。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 在厌烦了VB开发之后，楼主也接触了Java，只是接触，没有做过多少开发，能大概看明白什么个意思，总体上来说，不是很喜欢基于Java开发，其中的原因第一是楼主在那个年代做的是CS类的MIS类应用，其实就是一直在做医疗行业的应用，Java做CS简直是弱爆了，再一个java IDE也直接太弱爆了，楼主是懒惰的一个人，不喜欢用记事本那种比较装的干法去写高深的代码。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 2004年接触VS2003之后发现简直是找到了自己喜欢的东西了，VS2003配置.net1.1，也提供了简单的WebService和.NET Remoting技术，简直让以前在VB时候梦寐以求却难以搞定的机制就非常简单的实现了，.net所提供的反射机制可以实现很简单的插件开发，从那个时间起，楼主就写出了AgileEAS.NET SOA中间件平台的最初始版本，一个简单的winfrom插件平台。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 从2004年到2014年，差不多快10年的时间，楼主也像所有的程序员一样，把AgileEAS.NET SOA当自己的宝贝一样的，升级、增加新的东西，早期关注各种IOC、各种AOP、各种ORM、各种通信等基础类的东西，2010年底专职从事咨询服务工具，为各种规模、各种业务的软件商提供框架定义、技术咨询服务、医疗行业业务咨询服务等服务。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 也是自2011年之后对&lt;font color="#ff0000" size="4"&gt;&lt;strong&gt;什么框架、什么架构、什么应用商店、各种云架构&lt;/strong&gt;&lt;/font&gt;有了更简单的认识，整天没事扯架构、扯框架的人，或许压根就不知道什么是框架、什么是架构，架构、框架不是各种空泛的理论和各种看似华丽的词汇，&lt;font color="#ff0000" size="4"&gt;&lt;strong&gt;架构或者框架、平台应该是一类能帮助开发人员、开发商提高效能的东西，好的框架一定是简单好用的，那怕是功能不是很强，也比较单一，但一定要好用，另外一个，框架或者架构一定要配合相应的工具，就比如.NET的种类库如果没有VS开发环境的配合，估计就是一堆废柴&lt;/strong&gt;&lt;/font&gt;。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 在很多人看来，能写框架、平台、架构的人都是牛人，实际上这是一个误导，写框架的人不一定是技术上的牛人，一个框架、平台、架构上没有什么多少高深的技术，比如做插件框架的，就一个简单的反射技术，相信一个C#程序员，用一周时间足够搞的很清楚了，再比如ORM框架，也没有什么高深的技术，动态拼接SQL加上动态反射创建实体，所以说从技术层面上来讲，写一个框架、类库不需要多少技术，因为这些东西都 是现成的并且可以你很容易找到。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 但是一个好的框架或者平台，一定会有其配合很好的工具，比如对象建模工具、界面设计工具、文档生成工具、代码生成工具，以及相关的配置、管理、通信、监控工具，一个平台或者一个架构的生产力一方面体现在框架所提供的那引起基础类库所建立的规范，另一个很重要的原因是其配置工具所提供的快速开发能力是极其重要的，或者说一个框架是否能被应用的广泛，工具所带来的用处远远大于基础类库所提供的功能。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 能写好一个优秀的框架并能提供大量、可用、好用的框架开发才不一定是技术上的牛人，但一定是对软件工程管理、企业软件生产组织模型或者某一业务领域的业务经验一定有其独到的理解，其框架之中所倾注的业务与软件工程管理经验才是框架作者最宝贵的财富，经验需要日积月累，可不是一天两天能练成的，不管在任何行业、经验都是非常值钱的东西。&lt;/p&gt;  &lt;h1&gt;二、3小时完成一个Northwind案例&lt;/h1&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 在最近的一段时间之内，群里的好多朋友都希望我能给大家通过视频展示一下AgileEAS.NET SOA 中间件快速开发的相关技术，以便让更多的朋友学习和参考，但是一直忙于客户的各种项目、各种咨询服务以及家中的一些杂事，给大家拖了好久，拖的实在我都有点不好意思了，所以在上周做了一点准备，原本是想在原DrugShop的案例上进行，但是有朋友建议，在原项目基础上做，可以不一定让大家从头了解和从头开始学习、配置和如何从一个空白建立一个新的项目。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 经过一些了解之后我们决定从SQLServer数据库所提供的案例Northwind基础上做一些简化和改动，为什么要使用Northwind案例呢，主要原因是其设计比较规范，了解和熟悉的人也非常的多，便于大于理解其业务需求。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 楼主对Northwind做了一些简单的改进，主要是那方面的改进呢：&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 1）原来的Northwind主要重点再于客户和销售的管理，对采购入库业务处理的不是很好。&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 2）原来的Northwind对库存管理做的比较弱。&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 3）简化了原Northwind的客户、和销售管理，删除了对销售订单的区域等参数。&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 修改完成的Northwind主要提供了以下两大业务模型，采购入库业务：&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.smarteas.net/image.axd?picture=image_15.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="image" src="http://www.smarteas.net/image.axd?picture=image_thumb_15.png" width="896" height="450" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 销售订单业务：&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.smarteas.net/image.axd?picture=image_16.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="image" src="http://www.smarteas.net/image.axd?picture=image_thumb_16.png" width="849" height="452" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; Northwind的设计准备是前一天做好的，然后楼主通过YY为大家提供现场的快速开发培训，边讲角边做开发，从生成代码到第一个手工完成业务模块“&lt;font color="#ff0000" size="4"&gt;&lt;strong&gt;商品分类&lt;/strong&gt;&lt;/font&gt;”、“&lt;strong&gt;&lt;font color="#ff0000" size="4"&gt;商品字典&lt;/font&gt;&lt;/strong&gt;”、使用界面生成器生成了两个业务模块“&lt;font color="#0000ff" size="4"&gt;&lt;strong&gt;员工管理&lt;/strong&gt;&lt;/font&gt;”、“&lt;font color="#0000ff" size="4"&gt;&lt;strong&gt;客户管理&lt;/strong&gt;&lt;/font&gt;”,一直做到“&lt;font color="#ff0000" size="4"&gt;&lt;strong&gt;采购入库&lt;/strong&gt;&lt;/font&gt;”、“&lt;font color="#ff0000" size="4"&gt;&lt;strong&gt;采购入库查询&lt;/strong&gt;&lt;/font&gt;”、“&lt;font color="#ff0000" size="4"&gt;&lt;strong&gt;库存查询&lt;/strong&gt;&lt;/font&gt;”、“&lt;font color="#ff0000"&gt;&lt;strong&gt;销售订单业务&lt;/strong&gt;&lt;/font&gt;”一共8个模块，涉及数据查询、界面编辑、分层业务模型、输入字典、报表设计、检点控件挑战、输入焦点变色、文本输入验证等大量的工具、控件及相关技术，理论上已经完成了Northwind案例的所有业务，当然如果要完美的话可以增加“&lt;font color="#00ff00" size="4"&gt;&lt;strong&gt;收支报表&lt;/strong&gt;&lt;/font&gt;”、“&lt;font color="#00ff00" size="4"&gt;&lt;strong&gt;销售订单查询&lt;/strong&gt;&lt;/font&gt;”、以及界面的美化，界面验证的完善。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 希望群里和各位朋友Northwind例没有完成的工具去做一做，把他做完，这一定是一个非常不错的项目模板，以下是几个做好的界面：&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.smarteas.net/image.axd?picture=image_17.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.smarteas.net/image.axd?picture=image_thumb_17.png" width="872" height="579" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.smarteas.net/image.axd?picture=image_18.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.smarteas.net/image.axd?picture=image_thumb_18.png" width="880" height="555" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.smarteas.net/image.axd?picture=image_19.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.smarteas.net/image.axd?picture=image_thumb_19.png" width="887" height="489" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;h1&gt;三、源代码、视频下载&lt;/h1&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 在培训过程之中，楼主全程开启录相，录了大概。2.1G的高清视屏，目前已经全部上传在百度网盘和我们的服务器，源代码已经上传到我们的SVN服务器和下载服务器，请大家下载视频和源代码，视频时长4小时，请大家耐性观看。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 视频下载地址，百度云：&lt;a title="http://pan.baidu.com/s/1qW79ack" href="http://pan.baidu.com/s/1qW79ack"&gt;http://pan.baidu.com/s/1qW79ack&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 官网服务器：&lt;a href="http://112.74.66.105/downloads/AgileEAS.NET SOA 培训/1.AgileEASNET SOA 5平台配置.avi" target="_blank"&gt;1.AgileEASNET SOA 5平台配置.avi&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;a href="http://112.74.66.105/downloads/AgileEAS.NET%20SOA%20培训/2.AgileEAS.NET%20SOA%205元数据设计器.avi" target="_blank"&gt;2.AgileEAS.NET SOA 5元数据设计器.avi&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;a href="http://112.74.66.105/downloads/AgileEAS.NET%20SOA%20培训/3.Northwind.WinForm案例.第1段.avi" target="_blank"&gt;3.Northwind.WinForm案例.第1段.avi&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;a href="http://112.74.66.105/downloads/AgileEAS.NET%20SOA%20培训/4.Northwind.WinForm案例.第2段.avi" target="_blank"&gt;4.Northwind.WinForm案例.第2段.avi&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;a href="http://112.74.66.105/downloads/AgileEAS.NET%20SOA%20培训/5.Northwind.WinForm案例.第3段.avi" target="_blank"&gt;5.Northwind.WinForm案例.第3段.avi&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;a href="http://112.74.66.105/downloads/AgileEAS.NET%20SOA%20培训/6.Northwind.WinForm案例.第4段.avi" target="_blank"&gt;6.Northwind.WinForm案例.第4段.avi&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 源代码下载，源代码请通过AgileEAS.NET SOA 中间件平台&lt;a href="http://www.smarteas.net/" target="_blank"&gt;官方网站&lt;/a&gt;下载，或者通过以下方式下载：&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 直接下载：&lt;a href="http://112.74.66.105/downloads/eas/Northwind.rar"&gt;AgileEAS.NET SOA&amp;#160; 案例（Northwind）源码下载&lt;/a&gt;，&lt;a href="http://112.74.66.105/downloads/eas/Northwind.rar"&gt;http://112.74.66.105/downloads/eas/Northwind.rar&lt;/a&gt;。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; SVN更新：&lt;a href="https://112.74.66.105/svn/Northwind"&gt;https://112.74.66.105/svn/Northwind&lt;/a&gt;，登录用户:eas，密码eas.&lt;/p&gt;  &lt;h1&gt;四、问题反馈&lt;/h1&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 麻烦大家在通过视频进行学习的时候能及时把问题反馈给楼主，或者有什么需要改进的一些建议都请向楼主直接反馈,以下是联系方式：&lt;/p&gt;  &lt;p&gt;AgileEAS.NET SOA 网站：&lt;a href="http://www.smarteas.net/"&gt;http://www.smarteas.net&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;官方博客:&lt;a href="http://eastjade.cnblogs.com/"&gt;http://eastjade.cnblogs.com&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;楼主QQ:47920381,AgileEAS.NET&lt;/p&gt;  &lt;p&gt;QQ群：113723486（AgileEAS SOA 平台）/上限1000人&lt;/p&gt;  &lt;p&gt;199463175（AgileEAS SOA 交流）/上限1000人&lt;/p&gt;  &lt;p&gt;120661978（AgileEAS.NET 平台交流）/上限1000人&lt;/p&gt;  &lt;p&gt;邮件:james@agilelab.cn,mail.james@qq.com,&lt;/p&gt;  &lt;p&gt;电话：18629261335。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 另外，楼主将会不定期的通过YY举办类似本次活动的培训，所以麻烦大家都关注一下YY频道：&lt;font color="#ff0000" size="5"&gt;&lt;strong&gt;65011880&lt;/strong&gt;&lt;/font&gt;，也可以加一下楼主YY号：&lt;font color="#ff0000" size="5"&gt;&lt;strong&gt;537601972&lt;/strong&gt;&lt;/font&gt;。&lt;/p&gt;</summary>
    <published>2014-04-14T06:09:10+00:00</published>
    <link rel="related" href="http://smarteas.net/post/2014/04/14/3小时搞定一个简单的MIS系统案例Northwind，有视频、有源代码下载、有真相.aspx#comment" />
    <category term="SOA" />
    <category term="ActiveX" />
    <category term="AgileEAS.NET" />
    <category term="三层架构" />
    <category term="C#" />
    <category term="AppServer" />
    <category term="角色" />
    <category term="设计模式" />
    <category term="通信框架" />
    <category term="框架" />
    <dc:publisher>james</dc:publisher>
    <pingback:server>http://smarteas.net/pingback.axd</pingback:server>
    <pingback:target>http://smarteas.net/post.aspx?id=e0d85221-e632-4b87-903e-a0c667bab8ab</pingback:target>
    <slash:comments>0</slash:comments>
    <trackback:ping>http://smarteas.net/trackback.axd?id=e0d85221-e632-4b87-903e-a0c667bab8ab</trackback:ping>
    <wfw:comment>http://smarteas.net/post/2014/04/14/3小时搞定一个简单的MIS系统案例Northwind，有视频、有源代码下载、有真相.aspx#comment</wfw:comment>
    <wfw:commentRss>http://smarteas.net/syndication.axd?post=e0d85221-e632-4b87-903e-a0c667bab8ab</wfw:commentRss>
  </entry>
  <entry>
    <id>http://smarteas.net/post/2014/01/15/AgileEASNET-SOA中间件平台简易入门，除加小案例下载.aspx</id>
    <title>AgileEAS.NET SOA中间件平台简易入门，除加小案例下载</title>
    <updated>2014-01-15T03:25:48+00:00</updated>
    <link rel="self" href="http://smarteas.net/post.aspx?id=b143178d-8f70-4663-bd98-675e5f057a60" />
    <link href="http://smarteas.net/post/2014/01/15/AgileEASNET-SOA中间件平台简易入门，除加小案例下载.aspx" />
    <author>
      <name>james</name>
    </author>
    <summary type="html">&lt;p&gt;本入门例子由网友&lt;a href="http://blog.csdn.net/xueshaoyu/" target="_blank"&gt;狗头军师&lt;/a&gt;提供，感谢他的努力，以下是转自CSDN的原地址：&lt;a title="http://blog.csdn.net/xueshaoyu/article/details/18304647?reload" href="http://blog.csdn.net/xueshaoyu/article/details/18304647?reload"&gt;http://blog.csdn.net/xueshaoyu/article/details/18304647?reload&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;首先说明此平台来自&lt;a href="http://eastjade.cnblogs.com/"&gt;魏琼东&lt;/a&gt;大神，可被商业使用，但是不开源的哈。&lt;/p&gt;  &lt;p&gt;&lt;a href="http://112.74.66.105/downloads/eas/agileeas.net.5.rar"&gt;AgileEAS.NET SOA中间件平台 下载&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;闲话少说，直接步入正题。&lt;/p&gt;  &lt;p&gt;一、数据库的配置打开\agileeas.net.5.0\bin\dotnet\目录下的EAS.DbInitializer.exe文件进行数据连接配置如图。&lt;/p&gt;  &lt;p&gt;&lt;img alt="" src="http://img.blog.csdn.net/20140115105527765?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHVlc2hhb3l1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" /&gt;&lt;/p&gt;  &lt;p&gt;点击下一步&lt;/p&gt;  &lt;p&gt;&lt;img alt="" src="http://img.blog.csdn.net/20140115105558968?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHVlc2hhb3l1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" /&gt;&lt;/p&gt;  &lt;p&gt;点击完成，弹出的框选择是（如果原来数据库中有重要数据，记得先备份一下，以免失策…）。，数据库配置完成。&lt;/p&gt;  &lt;p&gt;二、插件开发：打开\agileeas.net.5.0\bin\dotnet\目录下的EAS.OrmDesigner文件：&lt;/p&gt;  &lt;p&gt;&lt;img alt="" src="http://img.blog.csdn.net/20140115105621421?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHVlc2hhb3l1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" /&gt;&lt;/p&gt;  &lt;p&gt;&lt;img alt="" src="http://img.blog.csdn.net/20140115105642296?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHVlc2hhb3l1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" /&gt;&lt;/p&gt;  &lt;p&gt;，配置解决方案如图：&lt;/p&gt;  &lt;p&gt;&lt;img alt="" src="http://img.blog.csdn.net/20140115105708875?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHVlc2hhb3l1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" /&gt;&lt;/p&gt;  &lt;p&gt;打开刚才生成的工程文件。&lt;/p&gt;  &lt;p&gt;&lt;img alt="" src="http://img.blog.csdn.net/20140115105729937?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHVlc2hhb3l1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" /&gt;&lt;/p&gt;  &lt;p&gt;可能需要引用两个文件（EAS.DATA, EAS.MicroKernel,在bin目录下找到并引用它），&lt;/p&gt;  &lt;p&gt;&lt;img alt="" src="http://img.blog.csdn.net/20140115105742468?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHVlc2hhb3l1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" /&gt;&lt;/p&gt;  &lt;p&gt;基本的增删改查已经被封装好，下面我们编写界面&lt;/p&gt;  &lt;p&gt;&lt;img alt="" src="http://img.blog.csdn.net/20140115105822265?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHVlc2hhb3l1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" /&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 这三个控件应该都了解撒，里面的逻辑代码，随后的附件中有。&lt;/p&gt;  &lt;p&gt;Main.cs里面有最关键的两个特性：&lt;/p&gt;  &lt;p&gt;&lt;img alt="" src="http://img.blog.csdn.net/20140115105842234?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHVlc2hhb3l1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" /&gt;&lt;/p&gt;  &lt;p&gt;完成之后，点击生成，ok，插件搞定。&lt;/p&gt;  &lt;p&gt;三、插件安装：&lt;/p&gt;  &lt;p&gt;运行\agileeas.net.5.0\bin\dotnet目录下的EAS.WinClient.Start.exe&lt;/p&gt;  &lt;p&gt;账号Administrator，密码sa，注意大小写&lt;/p&gt;  &lt;p&gt;登陆进去后，系统管理-〉模块管理-〉安装，选择刚才项目生成的程序集&lt;/p&gt;  &lt;p&gt;&lt;img alt="" src="http://img.blog.csdn.net/20140115105859093?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHVlc2hhb3l1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" /&gt;&lt;/p&gt;  &lt;p&gt;点击安装，安装完成。在列表中查看&lt;/p&gt;  &lt;p&gt;&lt;img alt="" src="http://img.blog.csdn.net/20140115105923750?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHVlc2hhb3l1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" /&gt;&lt;/p&gt;  &lt;p&gt;找到刚才安装的模块，右键-〉打开&lt;/p&gt;  &lt;p&gt;&lt;img alt="" src="http://img.blog.csdn.net/20140115105949843?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveHVlc2hhb3l1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" /&gt;&lt;/p&gt;  &lt;p&gt;。&lt;/p&gt;  &lt;p&gt;整个插件开发搞定（后附源码），第一次写教程，如有不足，敬请谅解，如有不明之处，欢迎留言。&lt;/p&gt;  &lt;p&gt;&lt;a href="http://download.csdn.net/download/xueshaoyu/6850635"&gt;Demo源码下载&lt;/a&gt;&lt;/p&gt;</summary>
    <published>2014-01-15T03:25:48+00:00</published>
    <link rel="related" href="http://smarteas.net/post/2014/01/15/AgileEASNET-SOA中间件平台简易入门，除加小案例下载.aspx#comment" />
    <category term=".NET" />
    <category term="AgileEAS.NET" />
    <category term="BI" />
    <category term="C#" />
    <category term="ESB" />
    <category term="NLB" />
    <category term="SOA" />
    <category term="WCF" />
    <category term="三层架构" />
    <category term="平台" />
    <category term="消息中间件" />
    <category term="框架" />
    <dc:publisher>james</dc:publisher>
    <pingback:server>http://smarteas.net/pingback.axd</pingback:server>
    <pingback:target>http://smarteas.net/post.aspx?id=b143178d-8f70-4663-bd98-675e5f057a60</pingback:target>
    <slash:comments>0</slash:comments>
    <trackback:ping>http://smarteas.net/trackback.axd?id=b143178d-8f70-4663-bd98-675e5f057a60</trackback:ping>
    <wfw:comment>http://smarteas.net/post/2014/01/15/AgileEASNET-SOA中间件平台简易入门，除加小案例下载.aspx#comment</wfw:comment>
    <wfw:commentRss>http://smarteas.net/syndication.axd?post=b143178d-8f70-4663-bd98-675e5f057a60</wfw:commentRss>
  </entry>
  <entry>
    <id>http://smarteas.net/post/2013/12/19/拉风的应用程序服务器监控工具，随便掌握服务器动态，AgileEASNET-SOA-中间件应用程序服务器监控工具集介绍.aspx</id>
    <title>拉风的应用程序服务器监控工具，随便掌握服务器动态，AgileEAS.NET SOA 中间件应用程序服务器监控工具集介绍</title>
    <updated>2013-12-19T13:55:23+00:00</updated>
    <link rel="self" href="http://smarteas.net/post.aspx?id=9887f91e-4835-4fbf-864d-6391bafd4c42" />
    <link href="http://smarteas.net/post/2013/12/19/拉风的应用程序服务器监控工具，随便掌握服务器动态，AgileEASNET-SOA-中间件应用程序服务器监控工具集介绍.aspx" />
    <author>
      <name>james</name>
    </author>
    <summary type="html">&lt;h1&gt;一、前言&lt;/h1&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET SOA 中间件平台是一款基于基于敏捷并行开发思想和Microsoft .Net构件(组件)开发技术而构建的一个快速开发应用平台。用于帮助中小型软件企业建立一条适合市场快速变化的开发团队，以达到节省开发成本、缩短开发时间，快速适应市场变化的目的。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET SOA中间件平台提供了敏捷快速开发软件工程的最佳实践，通过提供大量的基础支撑功能如IOC、ORM、SOA、分布式体系及敏捷并发开发方法所支撑的插件开发体系，以及提供了大量的实体、数据模型设计生成工具、代码生成工具，用于帮助中小软件开发商快速成长。&lt;/p&gt;  &lt;p&gt;&lt;img style="float: none; margin-left: auto; display: block; margin-right: auto" alt="" src="http://images.cnblogs.com/cnblogs_com/eastjade/AgileEAS.NET.png" /&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET平台充分把握目前软件行业快速发展的新趋势，基于敏捷并行开发、快速适应市场这样淳朴的软件工程实践，采用业界广泛使用的Microsoft .Net构件(组件)开发技术实践了这种开发思想，帮助软件企业实现“敏捷变化、快速适合”的目标，从而帮助软件企业在激烈的市场竞争中赢得先机并获得更高的回报。&lt;/p&gt;  &lt;h1&gt;二、AgileEAS.NET SOA中间件的分布式结构&lt;/h1&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET SOA中间件平台吸吸引人的一个特色就是其分布式架构体系，其可以基于高层的WCF协议和底层的.NET Socket通信建设统一一致的分布式通信服务，如下图所示的分布式结构：&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185611-ca6cc597c87843a8ac7df1048a410847.png"&gt;&lt;img title="image_thumb[5]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="image_thumb[5]" src="http://images.cnitblog.com/blog/19020/201312/19185614-ed6478a5230e4ae58b0091cb6580c1dd.png" width="762" height="458" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 系统中所有的客户端业务处理请求都经由&lt;span style="font-size: large; color: #ff0000"&gt;&lt;strong&gt;AppServer&lt;/strong&gt;&lt;/span&gt;处理之后返回结果给客户端，这个一个极其经典的SOA架构的分布式结构。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 当系统的业务运行量大到一台AppServer无法满足情况下，那么我们就要考虑纵向扩展或者横向扩展以满足系统性能和业务响应的问题，最常用的选择是横向扩展，使用负载均衡机制以确保业务请求由多台AppServer完成；以及对系统的可靠性要求很高的时候，因为只有一台AppServer如果AppServer宕机了，那么整个系统都无法运行。我们就必须的考虑整个系统的故障切换能力，以确定系统的高可用性，系统的架构就会衍生为以下结构：&lt;/p&gt;  &lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185615-16cfea2e0d154b29be0acda1084acfd7.png"&gt;&lt;img title="image_thumb[11]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="image_thumb[11]" src="http://images.cnitblog.com/blog/19020/201312/19185617-bcc609396d824a838ea93e7e665bbb7f.png" width="953" height="434" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 可以对比发布，前面架构图之中的AppServer已经由一台&lt;span style="font-size: large; color: #ff0000"&gt;&lt;strong&gt;NlbServer&lt;/strong&gt;&lt;/span&gt;和多台&lt;span style="font-size: large; color: #ff0000"&gt;&lt;strong&gt;AppServer&lt;/strong&gt;&lt;/span&gt;组成的服务器组合替换，系统之中不再存在当&lt;span style="font-size: large; color: #ff0000"&gt;&lt;strong&gt;AppServer&lt;/strong&gt;&lt;/span&gt;宕机之后系统无法服务的问题，也解决了随着业务量增加动态扩容的问题。&lt;/p&gt;  &lt;h1&gt;三、AgileEAS.NET SOA平台服务监控工具&lt;/h1&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 为了方便系统维护人员，我们为AgileEAS.NET SOA中间件平台应用程序服务&lt;strong&gt;&lt;span style="font-size: large; color: #ff0000"&gt;AppServer&lt;/span&gt;和负载均衡服务&lt;span style="font-size: large; color: #ff0000"&gt;NlbServer&lt;/span&gt;&lt;/strong&gt;提供了强大的可视化远程监控工具，让系统维护人员可以方便的通过远程监控工作进行监控。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 应用程序服务监控工具为&lt;span style="color: #ff0000"&gt;&lt;strong&gt;EAS.SOA.Monitor.exe&lt;/strong&gt;&lt;/span&gt;应用程序：&lt;/p&gt;  &lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19215021-b881a6953fbb4294b70e45e9b41cfbda.jpg"&gt;&lt;img title="16B8NIBTYG570NGK2M}[DPT" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="16B8NIBTYG570NGK2M}[DPT" src="http://images.cnitblog.com/blog/19020/201312/19215022-ceab351eba0a4a23bb80bd5eb143f49a.jpg" width="726" height="525" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 其主要提供以下监控参数：&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 服务器资源监控:服务器CPU、内存、磁盘读取、网络通信等重要的服务器资料的实时监控及历史监控曲线图，如上图。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; Socket服务监控:监控AppServer的Socket通信服务参数的各种状态，包括并发连接数、数据发送和接收速度：&lt;/p&gt;  &lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19215027-4d6c5c8989b845e79a3c4c1be8b098f2.jpg"&gt;&lt;img title="Z3@({URMVAHUD${}1ZDEMKO" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="Z3@({URMVAHUD${}1ZDEMKO" src="http://images.cnitblog.com/blog/19020/201312/19215030-b63d558b4b424e1abb96342c74f81a62.jpg" width="716" height="547" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; WCF服务监控:监控AppServer的WCF通信服务参数的各种状态，包括实时服务调用、最大并发、服务实例、累计服务调用次数等：&lt;/p&gt;  &lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19215031-f21784f532bb42b8992c08ef86f22200.jpg"&gt;&lt;img title="%}H]XD5Z0K3P%6]4{XAMN[D" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="%}H]XD5Z0K3P%6]4{XAMN[D" src="http://images.cnitblog.com/blog/19020/201312/19215033-7f177a0af5154b2cb9d3784fb2b7a3dd.jpg" width="574" height="413" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 应用服务监控，监控AgileEAS.NET SOA服务的并发调用和累计调用：&lt;/p&gt;  &lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19215035-ec45d447264b419a9ddb68bf5b439b91.jpg"&gt;&lt;img title="]Q16HASVBEXA3]N2)MT9W7U" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="]Q16HASVBEXA3]N2)MT9W7U" src="http://images.cnitblog.com/blog/19020/201312/19215036-67d453ab50c842a9bb5b1124d767c25a.jpg" width="573" height="413" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160; 负载均衡服务监控工具为&lt;strong&gt;&lt;span style="font-size: large; color: #ff0000"&gt;EAS.NLB.Monitor.exe&lt;/span&gt;&lt;/strong&gt;应用程序：&lt;/p&gt;  &lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19215037-32586c79540c4cdca058617f67ef2abc.jpg"&gt;&lt;img title="2MDGOA_KBO4CE~27)8}8]%C" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="2MDGOA_KBO4CE~27)8}8]%C" src="http://images.cnitblog.com/blog/19020/201312/19215039-dce5e29dcdbc4b57af15aeedc2ec8f54.jpg" width="639" height="446" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 其提供的监控功能和监控参数同应用程序服务监控工作提供的类型，都提供了服务器资源监控、WCF服务监控、Socket通信监控，不一样的是负载均衡服务提供了对负载简单应用程序服务器的状态监控：&lt;/p&gt;  &lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19215043-85049e777b5542ada6d37bebe7050fc3.jpg"&gt;&lt;img title="`)KKQ$E01TJH%3QV(AU63PB" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="`)KKQ$E01TJH%3QV(AU63PB" src="http://images.cnitblog.com/blog/19020/201312/19215044-3082dece455249cfbde617bf32b5631e.jpg" width="601" height="398" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;h1&gt;四、如何操作服务监控&lt;/h1&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 不管是应用程序服务监控还是负载均衡服务监控，启动监控程序之前都需要使用监控客户端连接到用程序服务或者负载均衡服务。&lt;/p&gt;  &lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185631-f45358abbe944eaf9a5db41473ff3282.jpg"&gt;&lt;img title="1EM465}RP@9MM~Z}1~536WX_thumb[2]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="1EM465}RP@9MM~Z}1~536WX_thumb[2]" src="http://images.cnitblog.com/blog/19020/201312/19185632-48ac07be0d8f40eab0f8f2256ef1e482.jpg" width="562" height="299" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 初始的监控程序需要通过服务连接登录界面新建一个服务监控连接，弹出新建连接对话框：&lt;/p&gt;  &lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185633-4964d843bdc5416fb6cf2b0de048235e.jpg"&gt;&lt;img title="G{M}}~FK}%N]1%U3]91RN)9_thumb[2]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="G{M}}~FK}%N]1%U3]91RN)9_thumb[2]" src="http://images.cnitblog.com/blog/19020/201312/19185634-884772003dc14fd5a45feadd6e669c1a.jpg" width="555" height="302" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160; 监控连接参数主要由服务器的IP地址及所开放的端口决定，WCF或者Socket，应用程序服务监控工作提供WCF和Socket的连接，而负载均衡服务监控仅提供WCF形式的连接。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160; 当创建好监控连接之后，下一次使用的时候就不需要再次配置监控连接信息了，只需要在服务连接下拉列表框中选择合适的的连接信息即可：&lt;/p&gt;  &lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19215046-9f02f0e4209e4044b90e6c5ca3bc1a76.jpg"&gt;&lt;img title="4~H(6)TZ%`292SA~T3E%}9R" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="4~H(6)TZ%`292SA~T3E%}9R" src="http://images.cnitblog.com/blog/19020/201312/19215100-0f7372486ebc4d4aab309f70a1b2e440.jpg" width="545" height="293" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160; 我们计划为监控程序提供一个动态的连接密钥或者证书验证机制，以便阻止非授权的监控连接请求，但是目前还没有启动连接密钥或者安全证书，在稍后的不久我们将会为大家提供这方面的功能。&lt;/p&gt;  &lt;h1&gt;五、联系我们&lt;/h1&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 为完善、改进和推广AgileEAS.NET而成立了敏捷软件工程实验室，是一家研究、推广和发展新技术，并致力于提供具有自主知识产权的业务基础平台软件，以及基于业务基础平台开发的管理软件的专业软件提供商。主要业务是为客户提供软件企业研发管理解决方案、企业管理软件开发，以及相关的技术支持，管理及技术咨询与培训业务。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET SOA中间件平台自2004年秋呱呱落地一来，我就一直在逐步完善和改进，也被应用于保险、医疗、电子商务、房地产、铁路、教育等多个应用，但一直都是以我个人在推广，2010年因为我辞职休息，我就想到把AgileEAS.NET推向市场，让更多的人使用。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 我的技术团队成员都是合作多年的老朋友，因为这个平台是免费的，所以也没有什么收入，都是由程序员的那种理想与信念坚持，在此我感谢一起奋斗的朋友。&lt;/p&gt;  &lt;p&gt;团队网站：&lt;a href="http://eastjade.cnblogs.com"&gt;http://www.agilelab.cn&lt;/a&gt;，&lt;/p&gt;  &lt;p&gt;AgileEAS.NET网站：&lt;a href="http://www.smarteas.net"&gt;http://www.smarteas.net&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;官方博客:&lt;a href="http://eastjade.cnblogs.com"&gt;http://eastjade.cnblogs.com&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;QQ:47920381,AgileEAS.NET&lt;/p&gt;  &lt;p&gt;QQ群：113723486（AgileEAS SOA 平台）/上限1000人&lt;/p&gt;  &lt;p&gt;199463175（AgileEAS SOA 交流）/上限1000人&lt;/p&gt;  &lt;p&gt;212867943（AgileEAS.NET研究）/上限500人&lt;/p&gt;  &lt;p&gt;147168308（AgileEAS.NET应用）/上限500人&lt;/p&gt;  &lt;p&gt;172060626（深度AgileEAS.NET平台）/上限500人&lt;/p&gt;  &lt;p&gt;116773358（AgileEAS.NET 平台）/上限500人&lt;/p&gt;  &lt;p&gt;125643764（AgileEAS.NET探讨）/上限500人&lt;/p&gt;  &lt;p&gt;193486983（AgileEAS.NET 平台）/上限500人&lt;/p&gt;  &lt;p&gt;邮件:james@agilelab.cn,mail.james@qq.com,&lt;/p&gt;  &lt;p&gt;电话：18629261335。&lt;/p&gt;</summary>
    <published>2013-12-19T13:55:23+00:00</published>
    <link rel="related" href="http://smarteas.net/post/2013/12/19/拉风的应用程序服务器监控工具，随便掌握服务器动态，AgileEASNET-SOA-中间件应用程序服务器监控工具集介绍.aspx#comment" />
    <category term=".NET" />
    <category term="BI" />
    <category term="AppServer" />
    <category term="NLB" />
    <category term="负载均衡" />
    <category term="通信框架" />
    <category term="用户" />
    <category term="消息中间件" />
    <category term="框架" />
    <category term="应用程序服务" />
    <category term="分布式" />
    <category term="企业应用架构" />
    <category term="企业服务总线" />
    <category term="中间件" />
    <category term="三层架构" />
    <category term="Socket" />
    <category term="ESB" />
    <category term="SOA" />
    <category term="NLBServer" />
    <category term="WCF" />
    <dc:publisher>james</dc:publisher>
    <pingback:server>http://smarteas.net/pingback.axd</pingback:server>
    <pingback:target>http://smarteas.net/post.aspx?id=9887f91e-4835-4fbf-864d-6391bafd4c42</pingback:target>
    <slash:comments>0</slash:comments>
    <trackback:ping>http://smarteas.net/trackback.axd?id=9887f91e-4835-4fbf-864d-6391bafd4c42</trackback:ping>
    <wfw:comment>http://smarteas.net/post/2013/12/19/拉风的应用程序服务器监控工具，随便掌握服务器动态，AgileEASNET-SOA-中间件应用程序服务器监控工具集介绍.aspx#comment</wfw:comment>
    <wfw:commentRss>http://smarteas.net/syndication.axd?post=9887f91e-4835-4fbf-864d-6391bafd4c42</wfw:commentRss>
  </entry>
  <entry>
    <id>http://smarteas.net/post/2013/12/19/高并发应用场景下的负载均衡与故障转移实践，AgileEASNET-SOA-中间件负载均衡服务介绍与实例.aspx</id>
    <title>高并发应用场景下的负载均衡与故障转移实践，AgileEAS.NET SOA 中间件负载均衡服务介绍与实例</title>
    <updated>2013-12-19T10:59:27+00:00</updated>
    <link rel="self" href="http://smarteas.net/post.aspx?id=8322e68d-86d1-40f4-b574-f9c6fbc72ab5" />
    <link href="http://smarteas.net/post/2013/12/19/高并发应用场景下的负载均衡与故障转移实践，AgileEASNET-SOA-中间件负载均衡服务介绍与实例.aspx" />
    <author>
      <name>james</name>
    </author>
    <summary type="html">&lt;h1&gt;一、前言&lt;/h1&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET SOA 中间件平台是一款基于基于敏捷并行开发思想和Microsoft .Net构件(组件)开发技术而构建的一个快速开发应用平台。用于帮助中小型软件企业建立一条适合市场快速变化的开发团队，以达到节省开发成本、缩短开发时间，快速适应市场变化的目的。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET SOA中间件平台提供了敏捷快速开发软件工程的最佳实践，通过提供大量的基础支撑功能如IOC、ORM、SOA、分布式体系及敏捷并发开发方法所支撑的插件开发体系，以及提供了大量的实体、数据模型设计生成工具、代码生成工具，用于帮助中小软件开发商快速成长。&lt;/p&gt;  &lt;p&gt;&lt;img style="float: none; margin-left: auto; display: block; margin-right: auto" alt="" src="http://images.cnblogs.com/cnblogs_com/eastjade/AgileEAS.NET.png" /&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET平台充分把握目前软件行业快速发展的新趋势，基于敏捷并行开发、快速适应市场这样淳朴的软件工程实践，采用业界广泛使用的Microsoft .Net构件(组件)开发技术实践了这种开发思想，帮助软件企业实现“敏捷变化、快速适合”的目标，从而帮助软件企业在激烈的市场竞争中赢得先机并获得更高的回报。&lt;/p&gt;  &lt;h1&gt;二、关于AgileEAS.NET SOA中间件的分布式结构&lt;/h1&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET SOA中间件平台吸吸引人的一个特色就是其分布式架构体系，其可以基于高层的WCF协议和底层的.NET Socket通信建设统一一致的分布式通信服务，如下图所示的分布式结构：&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185611-ca6cc597c87843a8ac7df1048a410847.png"&gt;&lt;img title="image_thumb[5]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="image_thumb[5]" src="http://images.cnitblog.com/blog/19020/201312/19185614-ed6478a5230e4ae58b0091cb6580c1dd.png" width="762" height="458" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 系统中所有的客户端业务处理请求都经由AppServer处理之后返回结果给客户端，这个一个极其经典的SOA架构的分布式结构。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 当系统的业务运行量大到一台AppServer无法满足情况下，那么我们就要考虑纵向扩展或者横向扩展以满足系统性能和业务响应的问题，最常用的选择是横向扩展，使用负载均衡机制以确保业务请求由多台AppServer完成；以及对系统的可靠性要求很高的时候，因为只有一台AppServer如果AppServer宕机了，那么整个系统都无法运行。我们就必须的考虑整个系统的故障切换能力，以确定系统的高可用性，系统的架构就会衍生为以下结构：&lt;/p&gt;  &lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185615-16cfea2e0d154b29be0acda1084acfd7.png"&gt;&lt;img title="image_thumb[11]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="image_thumb[11]" src="http://images.cnitblog.com/blog/19020/201312/19185617-bcc609396d824a838ea93e7e665bbb7f.png" width="953" height="434" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 可以对比发布，前面架构图之中的AppServer已经由一台NlbServer和多台AppServer组成的服务器组合替换，系统之中不再存在当AppServer宕机之后系统无法服务的问题，也解决了随着业务量增加动态扩容的问题。&lt;/p&gt;  &lt;h1&gt;三、AgileEAS.NET SOA平台NLB支持&lt;/h1&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET SOA中间件平台的AppServer支持程序为&lt;span style="color: #ff0000"&gt;&lt;strong&gt;EAS.SOA.Server.exe&lt;/strong&gt;&lt;/span&gt;或&lt;span style="color: #ff0000"&gt;&lt;strong&gt;EAS.SOA.Server.x64.exe&lt;/strong&gt;&lt;/span&gt;，其中&lt;span style="color: #ff0000"&gt;&lt;strong&gt;EAS.SOA.Server.exe&lt;/strong&gt;&lt;/span&gt;为32位服务程序，&lt;span style="color: #ff0000"&gt;&lt;strong&gt;EAS.SOA.Server.x64.exe&lt;/strong&gt;&lt;/span&gt;为64位服务程序。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AppServer能在同一个进程之内同时支持Socket通信和WCF通信，即能同样的业务同步提供Socket和WCF通信方式，WCF通信提供http和net.tcp通道的访问，客户端应用使用何种通信方式由客户段程序决定。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET SOA中间件平台的在5.0版本之后增加了一个应用负载均衡服务程序&lt;span style="color: #ff0000"&gt;EAS.NLB.Server&lt;/span&gt;，也同样提供了32位与64位的服务应用程序&lt;strong&gt;&lt;span style="color: #ff0000"&gt;EAS.NLB.Server.exe&lt;/span&gt;&lt;/strong&gt;或&lt;strong&gt;&lt;span style="color: #ff0000"&gt;EAS.NLB.Server.x64.exe&lt;/span&gt;。&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 在AgileEAS.NET SOA中间件平台5.0版本之中为AppServer、NLB.Server提供了运行监控程序，NLB.Server的服务监控程序同时提供了NLB.Server的配置管理功能：&lt;/p&gt;  &lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185618-4b386da9b7bb442c8e85b8a3875c0971.jpg"&gt;&lt;img title="EVR~2]%N9Q~23S(CCT3]Q_C_thumb[2]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="EVR~2]%N9Q~23S(CCT3]Q_C_thumb[2]" src="http://images.cnitblog.com/blog/19020/201312/19185622-0951368483e746dd8afbe19125c11aa6.jpg" width="595" height="453" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 负载节点监控，会监控NLBServer后挂接的所有AppServer清单以及各个AppServer服务器的工作状态，是在线还是离线，在线的则能向客户端提供服务，如果离线了则表示不能向客户端提供服务了，在NLBServer负载过程之中，只会在在线的AppServr之间进行负载。&lt;/p&gt;  &lt;h1&gt;四、AgileEAS.NET NLBServer配置案例&lt;/h1&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 在第三节我们已经对NLB做过一些简单的介绍，接下来我们以&lt;a href="http://www.smarteas.net/page/DrugShop_Case.aspx"&gt;DrugShop案例&lt;/a&gt;环境为基础实例演示一下如何在应用环境之中启用NLBServer支持：&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 首先我们简单规划一下测试环境：&lt;/p&gt;  &lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185624-ea3d2da5ce5a492d930d2230fa8e01e5.png"&gt;&lt;img title="image_thumb[16]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="image_thumb[16]" src="http://images.cnitblog.com/blog/19020/201312/19185625-6136a48d5cbb44bca497ea9d89994f9e.png" width="930" height="535" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 接下为我们一一配置，首先，我们参考&lt;a href="http://www.cnblogs.com/eastjade/p/3406150.html"&gt;AgileEAS.NET SOA 中间件平台5.2版本下载、配置学习(二)：配置WinClient分布式运行环境&lt;/a&gt;一文配置好一个AppServer实例AppServer1，端口号设置Socket：6706,Wcf-tcp:6707,Wcf-http:6708：&lt;/p&gt;  &lt;div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; border-right: silver 1px solid; width: 97.5%; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; max-height: 200px; background-color: #f4f4f4"&gt;   &lt;div id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; width: 100%; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; border-left-style: none; line-height: 12pt; padding-right: 0px; background-color: #f4f4f4"&gt;     &lt;pre&gt;&lt;span id="lnum1" style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;appserver&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum2" style="color: #606060"&gt;   2:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;channel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum3" style="color: #606060"&gt;   3:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;wcf&lt;/span&gt; &lt;span style="color: #ff0000"&gt;enable&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;true&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum4" style="color: #606060"&gt;   4:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;config&lt;/span&gt; &lt;span style="color: #ff0000"&gt;tcpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;6707&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;httpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;6708&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum5" style="color: #606060"&gt;   5:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;serviceThrottling&lt;/span&gt; &lt;span style="color: #ff0000"&gt;maxConcurrentCalls&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;128&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;maxConcurrentInstances&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;128&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;maxConcurrentSessions&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;256&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum6" style="color: #606060"&gt;   6:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;wcfServices&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum7" style="color: #606060"&gt;   7:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;wcfService&lt;/span&gt; &lt;span style="color: #ff0000"&gt;key&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Key&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;TValue&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum8" style="color: #606060"&gt;   8:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;wcfServices&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum9" style="color: #606060"&gt;   9:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;wcf&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum10" style="color: #606060"&gt;  10:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;socket&lt;/span&gt; &lt;span style="color: #ff0000"&gt;enable&lt;/span&gt; &lt;span style="color: #0000ff"&gt;=&amp;quot;true&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum11" style="color: #606060"&gt;  11:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;config&lt;/span&gt; &lt;span style="color: #ff0000"&gt;tcpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;6706&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum12" style="color: #606060"&gt;  12:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;serviceThrottling&lt;/span&gt; &lt;span style="color: #ff0000"&gt;maxConcurrence&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;1024&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum13" style="color: #606060"&gt;  13:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;socketServices&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum14" style="color: #606060"&gt;  14:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;socketService&lt;/span&gt; &lt;span style="color: #ff0000"&gt;key&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;IMSocketService&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;AgileIM.Service.IMSocketService,AgileIM.Service&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum15" style="color: #606060"&gt;  15:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;socketServices&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum16" style="color: #606060"&gt;  16:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;socket&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum17" style="color: #606060"&gt;  17:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;channel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum18" style="color: #606060"&gt;  18:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;appServices&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum19" style="color: #606060"&gt;  19:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;appService&lt;/span&gt; &lt;span style="color: #ff0000"&gt;key&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Key&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;TValue&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum20" style="color: #606060"&gt;  20:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;appServices&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum21" style="color: #606060"&gt;  21:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;appserver&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 然后复制配置好的AppServer目录到其他地方建立AppSerer2，端口信息修改为Socket：6706,Wcf-tcp:6707,Wcf-http:6708：&lt;/p&gt;

&lt;div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; border-right: silver 1px solid; width: 97.5%; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; max-height: 200px; background-color: #f4f4f4"&gt;
  &lt;div id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; width: 100%; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; border-left-style: none; line-height: 12pt; padding-right: 0px; background-color: #f4f4f4"&gt;
    &lt;pre&gt;&lt;span id="lnum1" style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;channel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum2" style="color: #606060"&gt;   2:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;wcf&lt;/span&gt; &lt;span style="color: #ff0000"&gt;enable&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;true&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum3" style="color: #606060"&gt;   3:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;config&lt;/span&gt; &lt;span style="color: #ff0000"&gt;tcpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;6807&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;httpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;6808&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum4" style="color: #606060"&gt;   4:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;serviceThrottling&lt;/span&gt; &lt;span style="color: #ff0000"&gt;maxConcurrentCalls&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;128&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;maxConcurrentInstances&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;128&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;maxConcurrentSessions&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;256&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum5" style="color: #606060"&gt;   5:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;wcfServices&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum6" style="color: #606060"&gt;   6:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;wcfService&lt;/span&gt; &lt;span style="color: #ff0000"&gt;key&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Key&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;TValue&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum7" style="color: #606060"&gt;   7:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;wcfServices&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum8" style="color: #606060"&gt;   8:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;wcf&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum9" style="color: #606060"&gt;   9:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;socket&lt;/span&gt; &lt;span style="color: #ff0000"&gt;enable&lt;/span&gt; &lt;span style="color: #0000ff"&gt;=&amp;quot;true&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum10" style="color: #606060"&gt;  10:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;config&lt;/span&gt; &lt;span style="color: #ff0000"&gt;tcpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;6806&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum11" style="color: #606060"&gt;  11:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;serviceThrottling&lt;/span&gt; &lt;span style="color: #ff0000"&gt;maxConcurrence&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;1024&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum12" style="color: #606060"&gt;  12:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;socketServices&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum13" style="color: #606060"&gt;  13:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;socketService&lt;/span&gt; &lt;span style="color: #ff0000"&gt;key&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;IMSocketService&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;AgileIM.Service.IMSocketService,AgileIM.Service&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum14" style="color: #606060"&gt;  14:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;socketServices&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum15" style="color: #606060"&gt;  15:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;socket&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum16" style="color: #606060"&gt;  16:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;channel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum17" style="color: #606060"&gt;  17:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;appServices&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum18" style="color: #606060"&gt;  18:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;appService&lt;/span&gt; &lt;span style="color: #ff0000"&gt;key&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Key&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;TValue&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum19" style="color: #606060"&gt;  19:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;appServices&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum20" style="color: #606060"&gt;  20:&lt;/span&gt; appserver&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 同样复制AppServer目录配置NlbServer，NlbServer服务目前没有配置工具，只能自己修改配置文件EAS.NLB.Server.exe.config或者EAS.NLB.Server.x64.exe.config：&lt;/p&gt;

&lt;div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; border-right: silver 1px solid; width: 97.5%; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; max-height: 200px; background-color: #f4f4f4"&gt;
  &lt;div id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; width: 100%; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; border-left-style: none; line-height: 12pt; padding-right: 0px; background-color: #f4f4f4"&gt;
    &lt;pre&gt;&lt;span id="lnum1" style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;?&lt;/span&gt;&lt;span style="color: #800000"&gt;xml&lt;/span&gt; &lt;span style="color: #ff0000"&gt;version&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;1.0&amp;quot;&lt;/span&gt;?&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum2" style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;configuration&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum3" style="color: #606060"&gt;   3:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;configSections&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum4" style="color: #606060"&gt;   4:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;section&lt;/span&gt; &lt;span style="color: #ff0000"&gt;name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;eas&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;EAS.ConfigHandler,EAS.MicroKernel&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum5" style="color: #606060"&gt;   5:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;configSections&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum6" style="color: #606060"&gt;   6:&lt;/span&gt;   &lt;span style="color: #008000"&gt;&amp;lt;!--支持混合程序集--&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum7" style="color: #606060"&gt;   7:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;startup&lt;/span&gt; &lt;span style="color: #ff0000"&gt;useLegacyV2RuntimeActivationPolicy&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;true&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum8" style="color: #606060"&gt;   8:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;supportedRuntime&lt;/span&gt; &lt;span style="color: #ff0000"&gt;version&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;v4.0&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum9" style="color: #606060"&gt;   9:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;startup&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum10" style="color: #606060"&gt;  10:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;eas&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum11" style="color: #606060"&gt;  11:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;configurations&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum12" style="color: #606060"&gt;  12:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;item&lt;/span&gt; &lt;span style="color: #ff0000"&gt;name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Key&amp;quot;&lt;/span&gt;  &lt;span style="color: #ff0000"&gt;value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Value&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum13" style="color: #606060"&gt;  13:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;configurations&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum14" style="color: #606060"&gt;  14:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;nlbserver&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum15" style="color: #606060"&gt;  15:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;config&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum16" style="color: #606060"&gt;  16:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;keepAlive&lt;/span&gt; &lt;span style="color: #ff0000"&gt;timeSpan&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;6&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;chnanel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;WCF&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum17" style="color: #606060"&gt;  17:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;config&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum18" style="color: #606060"&gt;  18:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;channel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum19" style="color: #606060"&gt;  19:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;wcf&lt;/span&gt; &lt;span style="color: #ff0000"&gt;enable&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;true&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum20" style="color: #606060"&gt;  20:&lt;/span&gt;           &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;config&lt;/span&gt; &lt;span style="color: #ff0000"&gt;tcpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;6607&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;httpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;6608&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum21" style="color: #606060"&gt;  21:&lt;/span&gt;           &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;serviceThrottling&lt;/span&gt; &lt;span style="color: #ff0000"&gt;maxConcurrentCalls&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;128&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;maxConcurrentInstances&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;128&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;maxConcurrentSessions&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;256&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum22" style="color: #606060"&gt;  22:&lt;/span&gt;           &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;wcfServices&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum23" style="color: #606060"&gt;  23:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;wcfService&lt;/span&gt; &lt;span style="color: #ff0000"&gt;key&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Key&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;TValue&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum24" style="color: #606060"&gt;  24:&lt;/span&gt;           &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;wcfServices&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum25" style="color: #606060"&gt;  25:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;wcf&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum26" style="color: #606060"&gt;  26:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;socket&lt;/span&gt; &lt;span style="color: #ff0000"&gt;enable&lt;/span&gt; &lt;span style="color: #0000ff"&gt;=&amp;quot;true&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum27" style="color: #606060"&gt;  27:&lt;/span&gt;           &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;config&lt;/span&gt; &lt;span style="color: #ff0000"&gt;tcpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;6606&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;gatewayStyle&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;NetPacket&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum28" style="color: #606060"&gt;  28:&lt;/span&gt;           &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;serviceThrottling&lt;/span&gt; &lt;span style="color: #ff0000"&gt;maxConcurrence&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;10000&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum29" style="color: #606060"&gt;  29:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;socket&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum30" style="color: #606060"&gt;  30:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;channel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum31" style="color: #606060"&gt;  31:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;nlbserver&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum32" style="color: #606060"&gt;  32:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;objects&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum33" style="color: #606060"&gt;  33:&lt;/span&gt;       &lt;span style="color: #008000"&gt;&amp;lt;!--NLB日志记录--&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum34" style="color: #606060"&gt;  34:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;object&lt;/span&gt; &lt;span style="color: #ff0000"&gt;name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Logger&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;assembly&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;EAS.MicroKernel&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;EAS.Loggers.TextLogger&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;LifestyleType&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Singleton&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum35" style="color: #606060"&gt;  35:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;property&lt;/span&gt; &lt;span style="color: #ff0000"&gt;name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Path&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;string&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;..\logs&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum36" style="color: #606060"&gt;  36:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;object&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum37" style="color: #606060"&gt;  37:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;objects&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum38" style="color: #606060"&gt;  38:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;eas&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum39" style="color: #606060"&gt;  39:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;startup&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum40" style="color: #606060"&gt;  40:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;supportedRuntime&lt;/span&gt; &lt;span style="color: #ff0000"&gt;version&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;v4.0&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;sku&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;.NETFramework,Version=v4.0&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum41" style="color: #606060"&gt;  41:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;startup&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum42" style="color: #606060"&gt;  42:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;configuration&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 配置其端口号为6606,Wcf-tcp:6607,Wcf-http:6608，配置完成后参考&lt;a href="http://www.cnblogs.com/eastjade/p/3406150.html"&gt;AgileEAS.NET SOA 中间件平台5.2版本下载、配置学习(二)：配置WinClient分布式运行环境&lt;/a&gt;一文编写AppServer服务的安装、卸载和控制台启动脚本。&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; NLBServer的安装卸载和控制台启动脚本类似，都是由EAS.NLB.Server.exe -参数组成，只不过，EAS.NLB.Server只能支持在一台服务器安装一个实例，即同一台服务不充许像AppServer一样安装多个实现，以下是脚本示例：&lt;/p&gt;

&lt;div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; border-right: silver 1px solid; width: 97.5%; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; max-height: 200px; background-color: #f4f4f4"&gt;
  &lt;div id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; width: 100%; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; border-left-style: none; line-height: 12pt; padding-right: 0px; background-color: #f4f4f4"&gt;
    &lt;pre&gt;&lt;span id="lnum1" style="color: #606060"&gt;   1:&lt;/span&gt; @rem 安装NLB服务&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum2" style="color: #606060"&gt;   2:&lt;/span&gt; EAS.NLB.Server.x64.exe -i&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum3" style="color: #606060"&gt;   3:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum4" style="color: #606060"&gt;   4:&lt;/span&gt; @rem 卸载NLB服务&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum5" style="color: #606060"&gt;   5:&lt;/span&gt; EAS.NLB.Server.x64.exe -u&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum6" style="color: #606060"&gt;   6:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum7" style="color: #606060"&gt;   7:&lt;/span&gt; @rem 控制台启动NLB服务&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum8" style="color: #606060"&gt;   8:&lt;/span&gt; EAS.NLB.Server.x64.exe -run&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum9" style="color: #606060"&gt;   9:&lt;/span&gt; pause&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; OK，我们启动NLBServer和AppServer1、AppServer2：&lt;/p&gt;

&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185627-aecbfeb68b3941daae9510ba77a99b3f.jpg"&gt;&lt;img title="Q%}BF5G[24(YQ5S}WJ5U64N_thumb[2]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="Q%}BF5G[24(YQ5S}WJ5U64N_thumb[2]" src="http://images.cnitblog.com/blog/19020/201312/19185630-6922233ae986463f934815a444fad362.jpg" width="754" height="694" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 接下来我们在客户端文件夹之中启动“&lt;span style="font-size: large; color: #ff0000"&gt;&lt;strong&gt;负载均衡监控&lt;/strong&gt;&lt;/span&gt;”程序&lt;span style="font-size: large"&gt;&lt;strong&gt;EAS.NLB.Monitor.exe&lt;/strong&gt;&lt;/span&gt;配置负载均衡服务的负载节点:&lt;/p&gt;

&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185631-f45358abbe944eaf9a5db41473ff3282.jpg"&gt;&lt;img title="1EM465}RP@9MM~Z}1~536WX_thumb[2]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="1EM465}RP@9MM~Z}1~536WX_thumb[2]" src="http://images.cnitblog.com/blog/19020/201312/19185632-48ac07be0d8f40eab0f8f2256ef1e482.jpg" width="562" height="299" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; 在服务连接之中选择新建连接，弹出新建连接对话框：&lt;/p&gt;

&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185633-4964d843bdc5416fb6cf2b0de048235e.jpg"&gt;&lt;img title="G{M}}~FK}%N]1%U3]91RN)9_thumb[2]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="G{M}}~FK}%N]1%U3]91RN)9_thumb[2]" src="http://images.cnitblog.com/blog/19020/201312/19185634-884772003dc14fd5a45feadd6e669c1a.jpg" width="555" height="302" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160; 修改连接名为nlbServer，服务器为127.0.0.1，即连接本机nlbserver，实际情况之中请根据实际情况配置，端口号填入前面配置的NlbServer端口参数，我们此处选择以wcf-tcp连接，端口配置为6607,然后确定保存配置，并且进入“&lt;strong&gt;&lt;span style="font-size: large; color: #ff0000"&gt;负载均衡监控&lt;/span&gt;&lt;/strong&gt;”主界面：&lt;/p&gt;

&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185636-147be5e0d38441e3ac7c2cae14c1793e.jpg"&gt;&lt;img title="ORHRE8PQAQ_QB$%6P)S3W]O_thumb[2]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="ORHRE8PQAQ_QB$%6P)S3W]O_thumb[2]" src="http://images.cnitblog.com/blog/19020/201312/19185639-d40706a5dfde44258c5b41de86347957.jpg" width="836" height="561" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; “&lt;strong&gt;&lt;span style="font-size: large; color: #ff0000"&gt;负载均衡监控&lt;/span&gt;&lt;/strong&gt;”第一个界面为负载均衡服务器的CPU、内存、网络、磁盘等各种资源参数，供管理人员参考，我们切换到负载节点监控：&lt;/p&gt;

&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185640-a25d6b61062846bf92065775735710d2.jpg"&gt;&lt;img title="KCWX$_PF%U~26QL91(S01@D_thumb[2]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="KCWX$_PF%U~26QL91(S01@D_thumb[2]" src="http://images.cnitblog.com/blog/19020/201312/19185641-06ced1272cc24b8f84da90a56130baa0.jpg" width="708" height="493" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 在空白区域右键打开快捷菜单点=&amp;gt;&amp;quot;添加节点&amp;quot;：&lt;/p&gt;

&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185642-b9be36e88e334dafa2e6d3c302ae9fb5.jpg"&gt;&lt;img title="67J016R(545M1K`}](F@WQC_thumb[2]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="67J016R(545M1K`}](F@WQC_thumb[2]" src="http://images.cnitblog.com/blog/19020/201312/19185643-5a3bb58cdd294b76ad6ae0a5189521a6.jpg" width="420" height="246" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 根据AppServer参数添加负载节点信息，确定后保存负载节点信息，使用同样的方法添加AppSever2节点，完成后如下图：&lt;/p&gt;

&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185644-54d5585ff48d441984069f3be8f01e6d.jpg"&gt;&lt;img title="854$8TM3F0@9KHCY29GQ9}X_thumb[2]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="854$8TM3F0@9KHCY29GQ9}X_thumb[2]" src="http://images.cnitblog.com/blog/19020/201312/19185645-c02ae33d096d4feb9460fd02813b6533.jpg" width="617" height="411" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 也可以选择直接修改配置配置负载节点信息，负载节点信息存储在NlbServer工作目录中的“&lt;span style="color: #ff0000"&gt;&lt;strong&gt;NLB.config”&lt;/strong&gt;&lt;/span&gt;文件：&lt;/p&gt;

&lt;div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; border-right: silver 1px solid; width: 97.5%; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; max-height: 200px; background-color: #f4f4f4"&gt;
  &lt;div id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; width: 100%; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; border-left-style: none; line-height: 12pt; padding-right: 0px; background-color: #f4f4f4"&gt;
    &lt;pre&gt;&lt;span id="lnum1" style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;?&lt;/span&gt;&lt;span style="color: #800000"&gt;xml&lt;/span&gt; &lt;span style="color: #ff0000"&gt;version&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;1.0&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;encoding&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;utf-16&amp;quot;&lt;/span&gt;?&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum2" style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;NLB&lt;/span&gt; &lt;span style="color: #ff0000"&gt;xmlns:xsd&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;http://www.w3.org/2001/XMLSchema&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;xmlns:xsi&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum3" style="color: #606060"&gt;   3:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;items&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum4" style="color: #606060"&gt;   4:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;NlbWorkItem&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum5" style="color: #606060"&gt;   5:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;host&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;127.0.0.1&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;host&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum6" style="color: #606060"&gt;   6:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;wcfChannel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum7" style="color: #606060"&gt;   7:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;HttpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;6708&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;HttpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum8" style="color: #606060"&gt;   8:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;TcpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;6707&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;TcpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum9" style="color: #606060"&gt;   9:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;wcfChannel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum10" style="color: #606060"&gt;  10:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;socketChannel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum11" style="color: #606060"&gt;  11:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;TcpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;6706&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;TcpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum12" style="color: #606060"&gt;  12:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;socketChannel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum13" style="color: #606060"&gt;  13:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;enabled&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;true&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;enabled&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum14" style="color: #606060"&gt;  14:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;runing&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;true&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;runing&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum15" style="color: #606060"&gt;  15:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;NlbWorkItem&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum16" style="color: #606060"&gt;  16:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;NlbWorkItem&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum17" style="color: #606060"&gt;  17:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;host&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;127.0.0.1&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;host&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum18" style="color: #606060"&gt;  18:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;wcfChannel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum19" style="color: #606060"&gt;  19:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;HttpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;6808&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;HttpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum20" style="color: #606060"&gt;  20:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;TcpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;6807&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;TcpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum21" style="color: #606060"&gt;  21:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;wcfChannel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum22" style="color: #606060"&gt;  22:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;socketChannel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum23" style="color: #606060"&gt;  23:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;TcpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;6806&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;TcpPort&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum24" style="color: #606060"&gt;  24:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;socketChannel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum25" style="color: #606060"&gt;  25:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;enabled&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;true&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;enabled&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum26" style="color: #606060"&gt;  26:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;runing&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;false&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;runing&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum27" style="color: #606060"&gt;  27:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;NlbWorkItem&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum28" style="color: #606060"&gt;  28:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;items&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum29" style="color: #606060"&gt;  29:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;NLB&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; OK，现在已经完成了对负载均衡的配置，接下来我们配置客户端程序“DrugShop.Main.exe”的连接信息,可以选择由配置工具生成，也可以选择手工书写，定义为SOA分布式环境下wcf-tcp连接,连接端口为127.0.0.1:6607(NLBServer)，配置文件如下：&lt;/p&gt;

&lt;div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; border-right: silver 1px solid; width: 97.5%; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; max-height: 200px; background-color: #f4f4f4"&gt;
  &lt;div id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; width: 100%; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; border-left-style: none; line-height: 12pt; padding-right: 0px; background-color: #f4f4f4"&gt;
    &lt;pre&gt;&lt;span id="lnum1" style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;?&lt;/span&gt;&lt;span style="color: #800000"&gt;xml&lt;/span&gt; &lt;span style="color: #ff0000"&gt;version&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;1.0&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;encoding&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;utf-8&amp;quot;&lt;/span&gt;?&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum2" style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;configuration&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum3" style="color: #606060"&gt;   3:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;configSections&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum4" style="color: #606060"&gt;   4:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;section&lt;/span&gt; &lt;span style="color: #ff0000"&gt;name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;eas&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;EAS.ConfigHandler,EAS.MicroKernel&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum5" style="color: #606060"&gt;   5:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;configSections&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum6" style="color: #606060"&gt;   6:&lt;/span&gt;   &lt;span style="color: #008000"&gt;&amp;lt;!--SQLite运行必需--&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum7" style="color: #606060"&gt;   7:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;startup&lt;/span&gt; &lt;span style="color: #ff0000"&gt;useLegacyV2RuntimeActivationPolicy&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;true&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum8" style="color: #606060"&gt;   8:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;supportedRuntime&lt;/span&gt; &lt;span style="color: #ff0000"&gt;version&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;v4.0&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum9" style="color: #606060"&gt;   9:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;startup&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum10" style="color: #606060"&gt;  10:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;eas&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum11" style="color: #606060"&gt;  11:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;configurations&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum12" style="color: #606060"&gt;  12:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;item&lt;/span&gt; &lt;span style="color: #ff0000"&gt;name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Key&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Value&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum13" style="color: #606060"&gt;  13:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;configurations&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum14" style="color: #606060"&gt;  14:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;objects&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum15" style="color: #606060"&gt;  15:&lt;/span&gt;       &lt;span style="color: #008000"&gt;&amp;lt;!--分布式通信组件。--&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum16" style="color: #606060"&gt;  16:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;object&lt;/span&gt; &lt;span style="color: #ff0000"&gt;name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;ServiceBridger&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;assembly&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;EAS.Distributed&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;EAS.Distributed.ServiceBridger&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;LifestyleType&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Thread&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum17" style="color: #606060"&gt;  17:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;property&lt;/span&gt; &lt;span style="color: #ff0000"&gt;name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;ServiceName&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;string&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;EAS.RMI.Service&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum18" style="color: #606060"&gt;  18:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;object&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum19" style="color: #606060"&gt;  19:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;object&lt;/span&gt; &lt;span style="color: #ff0000"&gt;name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;DataAccessor&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;assembly&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;EAS.Distributed&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;EAS.Distributed.DataAccessor&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;LifestyleType&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Thread&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum20" style="color: #606060"&gt;  20:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;property&lt;/span&gt; &lt;span style="color: #ff0000"&gt;name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;ServiceBridger&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;object&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;ServiceBridger&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum21" style="color: #606060"&gt;  21:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;object&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum22" style="color: #606060"&gt;  22:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;object&lt;/span&gt; &lt;span style="color: #ff0000"&gt;name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;OrmAccessor&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;assembly&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;EAS.Distributed&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;EAS.Distributed.OrmAccessor&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;LifestyleType&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Thread&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum23" style="color: #606060"&gt;  23:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;property&lt;/span&gt; &lt;span style="color: #ff0000"&gt;name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;ServiceBridger&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;object&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;ServiceBridger&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum24" style="color: #606060"&gt;  24:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;property&lt;/span&gt; &lt;span style="color: #ff0000"&gt;name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;DataAccessor&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;object&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;DataAccessor&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum25" style="color: #606060"&gt;  25:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;object&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum26" style="color: #606060"&gt;  26:&lt;/span&gt;       &lt;span style="color: #008000"&gt;&amp;lt;!--日志管理--&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum27" style="color: #606060"&gt;  27:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;object&lt;/span&gt; &lt;span style="color: #ff0000"&gt;name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Logger&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;assembly&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;EAS.MicroKernel&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;EAS.Loggers.TextLogger&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;LifestyleType&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Singleton&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum28" style="color: #606060"&gt;  28:&lt;/span&gt;       &lt;span style="color: #008000"&gt;&amp;lt;!--资源--&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum29" style="color: #606060"&gt;  29:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;object&lt;/span&gt; &lt;span style="color: #ff0000"&gt;name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;EAS.Explorer.Resource&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;assembly&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;DrugShop.Res&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;DrugShop.Res.Resources&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;LifestyleType&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Singleton&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum30" style="color: #606060"&gt;  30:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;objects&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum31" style="color: #606060"&gt;  31:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;services&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum32" style="color: #606060"&gt;  32:&lt;/span&gt;       &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;service&lt;/span&gt; &lt;span style="color: #ff0000"&gt;name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;EAS.RMI.Service&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;service-type&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;WcfService&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;singleton&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;true&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;url&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;net.tcp://127.0.0.1:6607/eas/services/EAS.RMIService&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum33" style="color: #606060"&gt;  33:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;services&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum34" style="color: #606060"&gt;  34:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;eas&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum35" style="color: #606060"&gt;  35:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;configuration&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; OK，客户端程序配置完成。&lt;/p&gt;

&lt;h1&gt;五、测试验证&lt;/h1&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 启动DrugShop.Main.exe,可以选择启动多个客户端程序实例，可以看到以控制台运行的两个服务实例都有不同程序的请求响应：&lt;/p&gt;

&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185648-64730050a0da4317acff3590cf220387.jpg"&gt;&lt;img title="0L`$I$6L673RQT~E``F~P7Q_thumb[2]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="0L`$I$6L673RQT~E``F~P7Q_thumb[2]" src="http://images.cnitblog.com/blog/19020/201312/19185649-a39334bb8f1f4752a5153df7dc11960a.jpg" width="673" height="591" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 我们可以看到，客户端的业务请求被&lt;span style="font-size: large; color: #ff0000"&gt;&lt;em&gt;&lt;strong&gt;NLBServer&lt;/strong&gt;&lt;/em&gt;&lt;/span&gt;进行了有效的负载，当我们随便停止其他任务一个AppServer，我们可以通过“&lt;span style="font-size: large; color: #ff0000"&gt;&lt;strong&gt;负载均衡监控&lt;/strong&gt;&lt;/span&gt;”程序看到其处于离线状态：&lt;/p&gt;

&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185650-28092a328ee641d6afd894d9d3c47bfc.jpg"&gt;&lt;img title="3G~)8E1DHD0AKGF1FN4JA(X_thumb[2]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="3G~)8E1DHD0AKGF1FN4JA(X_thumb[2]" src="http://images.cnitblog.com/blog/19020/201312/19185654-1d642fec46964c44ad7ab6832cbe20c9.jpg" width="612" height="358" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 在实际项目之中可以是某一台AppServer宕机了或者人为的进行某种维护升级活动，在这个时间，所有的客户端程序的所有业务操作都是可以的，从这一点我们可以看出，AppServer被&lt;em&gt;&lt;strong&gt;&lt;span style="color: #ff0000"&gt;NLBServer&lt;/span&gt;&lt;/strong&gt;&lt;/em&gt;进行了有效的故障转移，有效的提高了系统的&lt;span style="font-size: large; color: #ff0000"&gt;&lt;strong&gt;高可用性&lt;/strong&gt;&lt;/span&gt;。&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 如果所有的AppServer都离线了，即所有AppServer都宕机了，如下图：&lt;/p&gt;

&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185655-bc3ea3fc6eef4ce582cd6dbf8dc8f851.jpg"&gt;&lt;img title="CYD9B}K{0P%`XLC6P~(YV41_thumb[2]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="CYD9B}K{0P%`XLC6P~(YV41_thumb[2]" src="http://images.cnitblog.com/blog/19020/201312/19185656-e3084634fec144eaa2faa58ef950aae2.jpg" width="616" height="349" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 那么这个时间，系统就不能提供任务的服务了，当我们在客户端执行任何操作都会报错：&lt;/p&gt;

&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19185657-91592412453a4706b931666d482e624e.jpg"&gt;&lt;img title="1L_[QARM1]~)5RU9Z%WVEK5_thumb[2]" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" border="0" alt="1L_[QARM1]~)5RU9Z%WVEK5_thumb[2]" src="http://images.cnitblog.com/blog/19020/201312/19185658-2a4deaad9f974e9ab213a4bebe76d53e.jpg" width="489" height="565" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 当我们恢复负载之中的任务一个节点之后，系统则可以向使用者提供全部的业务服务。&lt;/p&gt;

&lt;h1&gt;六、联系我们&lt;/h1&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 为完善、改进和推广AgileEAS.NET而成立了敏捷软件工程实验室，是一家研究、推广和发展新技术，并致力于提供具有自主知识产权的业务基础平台软件，以及基于业务基础平台开发的管理软件的专业软件提供商。主要业务是为客户提供软件企业研发管理解决方案、企业管理软件开发，以及相关的技术支持，管理及技术咨询与培训业务。&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET SOA中间件平台自2004年秋呱呱落地一来，我就一直在逐步完善和改进，也被应用于保险、医疗、电子商务、房地产、铁路、教育等多个应用，但一直都是以我个人在推广，2010年因为我辞职休息，我就想到把AgileEAS.NET推向市场，让更多的人使用。&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 我的技术团队成员都是合作多年的老朋友，因为这个平台是免费的，所以也没有什么收入，都是由程序员的那种理想与信念坚持，在此我感谢一起奋斗的朋友。&lt;/p&gt;

&lt;p&gt;团队网站：&lt;a href="http://eastjade.cnblogs.com"&gt;http://www.agilelab.cn&lt;/a&gt;，&lt;/p&gt;

&lt;p&gt;AgileEAS.NET网站：&lt;a href="http://www.smarteas.net"&gt;http://www.smarteas.net&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;官方博客:&lt;a href="http://eastjade.cnblogs.com"&gt;http://eastjade.cnblogs.com&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;QQ:47920381,AgileEAS.NET&lt;/p&gt;

&lt;p&gt;QQ群：113723486（AgileEAS SOA 平台）/上限1000人&lt;/p&gt;

&lt;p&gt;199463175（AgileEAS SOA 交流）/上限1000人&lt;/p&gt;

&lt;p&gt;212867943（AgileEAS.NET研究）/上限500人&lt;/p&gt;

&lt;p&gt;147168308（AgileEAS.NET应用）/上限500人&lt;/p&gt;

&lt;p&gt;172060626（深度AgileEAS.NET平台）/上限500人&lt;/p&gt;

&lt;p&gt;116773358（AgileEAS.NET 平台）/上限500人&lt;/p&gt;

&lt;p&gt;125643764（AgileEAS.NET探讨）/上限500人&lt;/p&gt;

&lt;p&gt;193486983（AgileEAS.NET 平台）/上限500人&lt;/p&gt;

&lt;p&gt;邮件:james@agilelab.cn,mail.james@qq.com,&lt;/p&gt;

&lt;p&gt;电话：18629261335。&lt;/p&gt;</summary>
    <published>2013-12-19T10:59:27+00:00</published>
    <link rel="related" href="http://smarteas.net/post/2013/12/19/高并发应用场景下的负载均衡与故障转移实践，AgileEASNET-SOA-中间件负载均衡服务介绍与实例.aspx#comment" />
    <category term="SOA" />
    <category term="ESB" />
    <category term="云计算" />
    <category term="中间件" />
    <category term="平台" />
    <category term=".NET" />
    <category term="分布式" />
    <category term="通信框架" />
    <category term="消息中间件" />
    <category term="框架" />
    <category term="NLB" />
    <category term="AppServer" />
    <category term="应用程序服务" />
    <category term="三层架构" />
    <category term="负载均衡" />
    <dc:publisher>james</dc:publisher>
    <pingback:server>http://smarteas.net/pingback.axd</pingback:server>
    <pingback:target>http://smarteas.net/post.aspx?id=8322e68d-86d1-40f4-b574-f9c6fbc72ab5</pingback:target>
    <slash:comments>0</slash:comments>
    <trackback:ping>http://smarteas.net/trackback.axd?id=8322e68d-86d1-40f4-b574-f9c6fbc72ab5</trackback:ping>
    <wfw:comment>http://smarteas.net/post/2013/12/19/高并发应用场景下的负载均衡与故障转移实践，AgileEASNET-SOA-中间件负载均衡服务介绍与实例.aspx#comment</wfw:comment>
    <wfw:commentRss>http://smarteas.net/syndication.axd?post=8322e68d-86d1-40f4-b574-f9c6fbc72ab5</wfw:commentRss>
  </entry>
  <entry>
    <id>http://smarteas.net/post/2013/12/19/如何使用Lua脚本语言开发出高扩展性的系统，AgileEASNET-SOA中间件平台Lua脚本引擎介绍.aspx</id>
    <title>如何使用Lua脚本语言开发出高扩展性的系统，AgileEAS.NET SOA中间件平台Lua脚本引擎介绍</title>
    <updated>2013-12-19T03:38:32+00:00</updated>
    <link rel="self" href="http://smarteas.net/post.aspx?id=e11d4fae-8bb6-4d44-9ea5-0a6d252e13c3" />
    <link href="http://smarteas.net/post/2013/12/19/如何使用Lua脚本语言开发出高扩展性的系统，AgileEASNET-SOA中间件平台Lua脚本引擎介绍.aspx" />
    <author>
      <name>james</name>
    </author>
    <summary type="html">&lt;h1&gt;一、前言&lt;/h1&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET SOA 中间件平台是一款基于基于敏捷并行开发思想和Microsoft .Net构件(组件)开发技术而构建的一个快速开发应用平台。用于帮助中小型软件企业建立一条适合市场快速变化的开发团队，以达到节省开发成本、缩短开发时间，快速适应市场变化的目的。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET SOA中间件平台提供了敏捷快速开发软件工程的最佳实践，通过提供大量的基础支撑功能如IOC、ORM、SOA、分布式体系及敏捷并发开发方法所支撑的插件开发体系，以及提供了大量的实体、数据模型设计生成工具、代码生成工具，用于帮助中小软件开发商快速成长。&lt;/p&gt;  &lt;p&gt;&lt;img style="float: none; margin-left: auto; display: block; margin-right: auto" alt="" src="http://images.cnblogs.com/cnblogs_com/eastjade/AgileEAS.NET.png" /&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET平台充分把握目前软件行业快速发展的新趋势，基于敏捷并行开发、快速适应市场这样淳朴的软件工程实践，采用业界广泛使用的Microsoft .Net构件(组件)开发技术实践了这种开发思想，帮助软件企业实现“敏捷变化、快速适合”的目标，从而帮助软件企业在激烈的市场竞争中赢得先机并获得更高的回报。&lt;/p&gt;  &lt;h1&gt;二、关于Lua语言&lt;/h1&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; Lua 是一个小巧的&lt;a href="http://baike.baidu.com/view/76320.htm"&gt;脚本语言&lt;/a&gt;。是巴西里约热内卢天主教大学（Pontifical Catholic University of Rio de Janeiro）里的一个研究小组，由Roberto Ierusalimschy、Waldemar Celes 和 Luiz Henrique de Figueiredo所组成并于1993年开发。 其设计目的是为了嵌入应用程序中，从而为应用程序提供灵活的扩展和定制功能。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; Lua语言目前应用最广泛的领域是游戏编程领域，最早接触和认识Lua也是因为在2008年玩金山的剑网3，通过解包读过其中的一些游戏脚本，慢慢也看过一些其他游戏的Lua脚本，在我们开发自己的电子病历系统的过程之中，引入了Lua脚本语言实现那些可变性非常高的场景。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160; .NET通过&lt;a href="http://www.baidu.com/link?url=lazmpEBwr7CzVtf_ZONmrTWGX9k8h0MUE9JpXwk6zElfvP2qQv6GrCZ7ZgXF9A4nkIvm9n-NuhiZnjxxfYg4C_"&gt;&lt;em&gt;LuaInterface&lt;/em&gt;&lt;/a&gt;开源项目类库实现对Lua的脚本调用以及Lua与C#的相互绑定，有关于这此方面的内容请大家搜索相关文章以获得帮助。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 在AgileEAS.NET SOA5.0版本之中，我们决定把在开发过程之中形成的Lua脚本引擎一并集成入AgileEAS.NET SOA中间件平台,目前Lua脚本语言被我们广泛的应用电子病历系统这中的病案自动评分、短信系统之中的交互式应答、和一些计划任系统之中的计划任务定义。&lt;/p&gt;  &lt;h1&gt;三、AgileEAS.NET SOA平台Lua引擎&lt;/h1&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET SOA5.0平台目前使用的是Lua5.1版本，使用&lt;a href="http://www.baidu.com/link?url=lazmpEBwr7CzVtf_ZONmrTWGX9k8h0MUE9JpXwk6zElfvP2qQv6GrCZ7ZgXF9A4nkIvm9n-NuhiZnjxxfYg4C_"&gt;&lt;em&gt;LuaInterface&lt;/em&gt;&lt;/a&gt;实现C#与Lua的相互绑定处理，平台已经对其进行了二次封装以提供统一的API支持，目前由EAS.LuaScript.dll程序集承载所有业务。&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET SOA平台Lua引擎提供了以下接口或类型的API：&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;strong&gt;&lt;span style="font-size: large; color: #ff0000"&gt;ILuaEngine&lt;/span&gt;&lt;/strong&gt;，定义为一个Lua脚本引擎：&lt;/p&gt;  &lt;div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; border-right: silver 1px solid; width: 97.5%; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; max-height: 200px; background-color: #f4f4f4"&gt;   &lt;div id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; width: 100%; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; border-left-style: none; line-height: 12pt; padding-right: 0px; background-color: #f4f4f4"&gt;     &lt;pre&gt;&lt;span id="lnum1" style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum2" style="color: #606060"&gt;   2:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum3" style="color: #606060"&gt;   3:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; EAS.LuaScript&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum4" style="color: #606060"&gt;   4:&lt;/span&gt; {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum5" style="color: #606060"&gt;   5:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;  &lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum6" style="color: #606060"&gt;   6:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// Lua脚本解析引擎。  &lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum7" style="color: #606060"&gt;   7:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;  &lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum8" style="color: #606060"&gt;   8:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;remarks&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum9" style="color: #606060"&gt;   9:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// 用于完成程序之中嵌入的动态Lua脚本，Lua脚本在AgileEAS.NET SOA 中间件之中主要用于环境的各种参数的动态解析处理之中。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum10" style="color: #606060"&gt;  10:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;/remarks&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum11" style="color: #606060"&gt;  11:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;interface&lt;/span&gt; ILuaEngine:IDisposable&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum12" style="color: #606060"&gt;  12:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum13" style="color: #606060"&gt;  13:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum14" style="color: #606060"&gt;  14:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// 脚本路径。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum15" style="color: #606060"&gt;  15:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum16" style="color: #606060"&gt;  16:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;string&lt;/span&gt; ScriptDirectory&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum17" style="color: #606060"&gt;  17:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum18" style="color: #606060"&gt;  18:&lt;/span&gt;             get;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum19" style="color: #606060"&gt;  19:&lt;/span&gt;             set;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum20" style="color: #606060"&gt;  20:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum21" style="color: #606060"&gt;  21:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum22" style="color: #606060"&gt;  22:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum23" style="color: #606060"&gt;  23:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// 输出重定向方法/用于调试。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum24" style="color: #606060"&gt;  24:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum25" style="color: #606060"&gt;  25:&lt;/span&gt;         Action&amp;lt;&lt;span style="color: #0000ff"&gt;object&lt;/span&gt;&amp;gt; OutAction&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum26" style="color: #606060"&gt;  26:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum27" style="color: #606060"&gt;  27:&lt;/span&gt;             get;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum28" style="color: #606060"&gt;  28:&lt;/span&gt;             set;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum29" style="color: #606060"&gt;  29:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum30" style="color: #606060"&gt;  30:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum31" style="color: #606060"&gt;  31:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;  &lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum32" style="color: #606060"&gt;  32:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// 注册lua函数，实现Lua绑定。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum33" style="color: #606060"&gt;  33:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;  &lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum34" style="color: #606060"&gt;  34:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;luaAPIClass&amp;quot;&amp;gt;lua函数类&amp;lt;/param&amp;gt;  &lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum35" style="color: #606060"&gt;  35:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;void&lt;/span&gt; BindLuaFunctions(&lt;span style="color: #0000ff"&gt;object&lt;/span&gt; luaAPIClass);&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum36" style="color: #606060"&gt;  36:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum37" style="color: #606060"&gt;  37:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;  &lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum38" style="color: #606060"&gt;  38:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// 执行lua脚本文件。 &lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum39" style="color: #606060"&gt;  39:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;  &lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum40" style="color: #606060"&gt;  40:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;luaFileName&amp;quot;&amp;gt;脚本文件名。&amp;lt;/param&amp;gt;  &lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum41" style="color: #606060"&gt;  41:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;returns&amp;gt;lua脚本执行结果。&amp;lt;/returns&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum42" style="color: #606060"&gt;  42:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;object&lt;/span&gt;[] DoFile(&lt;span style="color: #0000ff"&gt;string&lt;/span&gt; luaFileName);&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum43" style="color: #606060"&gt;  43:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum44" style="color: #606060"&gt;  44:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;  &lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum45" style="color: #606060"&gt;  45:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// 执行lua脚本文本。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum46" style="color: #606060"&gt;  46:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;  &lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum47" style="color: #606060"&gt;  47:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;chunk&amp;quot;&amp;gt;lua指令。&amp;lt;/param&amp;gt;  &lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum48" style="color: #606060"&gt;  48:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;returns&amp;gt;lua脚本执行结果。&amp;lt;/returns&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum49" style="color: #606060"&gt;  49:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;object&lt;/span&gt;[] DoString(&lt;span style="color: #0000ff"&gt;string&lt;/span&gt; chunk);&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum50" style="color: #606060"&gt;  50:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum51" style="color: #606060"&gt;  51:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum52" style="color: #606060"&gt;  52:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// 调用Lua函数。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum53" style="color: #606060"&gt;  53:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum54" style="color: #606060"&gt;  54:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;luaFunction&amp;quot;&amp;gt;函数名称。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum55" style="color: #606060"&gt;  55:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;args&amp;quot;&amp;gt;调用参数。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum56" style="color: #606060"&gt;  56:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;returns&amp;gt;lua脚本执行结果。&amp;lt;/returns&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum57" style="color: #606060"&gt;  57:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;object&lt;/span&gt;[] Invoke(&lt;span style="color: #0000ff"&gt;string&lt;/span&gt; luaFunction, &lt;span style="color: #0000ff"&gt;params&lt;/span&gt; &lt;span style="color: #0000ff"&gt;object&lt;/span&gt;[] args);&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum58" style="color: #606060"&gt;  58:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum59" style="color: #606060"&gt;  59:&lt;/span&gt; }&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 其中脚本路径ScriptDirectory指示Lua脚本文件的存储位置，在DoFile执行脚本文过程之中如果传入为相关路径则可以自动在ScriptDirectory之中寻址，ScriptDirectory默认为当前程序目录。&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; DoFile：执行脚本文件并且返回执行结果。&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; DoString：执行脚本代码并且返回执行结果。&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; Invoke：执行指定的脚本函数。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="color: #ff0000"&gt;LuaFunctionAttribute&lt;/span&gt;&lt;/strong&gt;，Lua脚本函数特性：&lt;/p&gt;

&lt;div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; border-right: silver 1px solid; width: 97.5%; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; max-height: 200px; background-color: #f4f4f4"&gt;
  &lt;div id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; width: 100%; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; border-left-style: none; line-height: 12pt; padding-right: 0px; background-color: #f4f4f4"&gt;
    &lt;pre&gt;&lt;span id="lnum1" style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum2" style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Collections.Generic;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum3" style="color: #606060"&gt;   3:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Linq;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum4" style="color: #606060"&gt;   4:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Text;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum5" style="color: #606060"&gt;   5:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum6" style="color: #606060"&gt;   6:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; EAS.LuaScript&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum7" style="color: #606060"&gt;   7:&lt;/span&gt; {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum8" style="color: #606060"&gt;   8:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;  &lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum9" style="color: #606060"&gt;   9:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// Lua函数描述特性。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum10" style="color: #606060"&gt;  10:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;  &lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum11" style="color: #606060"&gt;  11:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;remarks&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum12" style="color: #606060"&gt;  12:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// 用于标记Lua接口方法。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum13" style="color: #606060"&gt;  13:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;/remarks&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum14" style="color: #606060"&gt;  14:&lt;/span&gt;     [AttributeUsage(AttributeTargets.Method,&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum15" style="color: #606060"&gt;  15:&lt;/span&gt;                     Inherited = &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;, AllowMultiple = &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;)]&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum16" style="color: #606060"&gt;  16:&lt;/span&gt;     [Serializable]&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum17" style="color: #606060"&gt;  17:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; LuaFunctionAttribute : Attribute&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum18" style="color: #606060"&gt;  18:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum19" style="color: #606060"&gt;  19:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum20" style="color: #606060"&gt;  20:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// 初始化LuaFunctionAttribute对象实例。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum21" style="color: #606060"&gt;  21:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum22" style="color: #606060"&gt;  22:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;name&amp;quot;&amp;gt;函数名称。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum23" style="color: #606060"&gt;  23:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; LuaFunctionAttribute(&lt;span style="color: #0000ff"&gt;string&lt;/span&gt; name)&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum24" style="color: #606060"&gt;  24:&lt;/span&gt;             : &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;(name, &lt;span style="color: #0000ff"&gt;string&lt;/span&gt;.Empty)&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum25" style="color: #606060"&gt;  25:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum26" style="color: #606060"&gt;  26:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum27" style="color: #606060"&gt;  27:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum28" style="color: #606060"&gt;  28:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum29" style="color: #606060"&gt;  29:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum30" style="color: #606060"&gt;  30:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// 初始化LuaFunctionAttribute对象实例。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum31" style="color: #606060"&gt;  31:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum32" style="color: #606060"&gt;  32:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;name&amp;quot;&amp;gt;函数名称。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum33" style="color: #606060"&gt;  33:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;description&amp;quot;&amp;gt;函数描述。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum34" style="color: #606060"&gt;  34:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; LuaFunctionAttribute(&lt;span style="color: #0000ff"&gt;string&lt;/span&gt; name, &lt;span style="color: #0000ff"&gt;string&lt;/span&gt; description)&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum35" style="color: #606060"&gt;  35:&lt;/span&gt;             : &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;(name, description,&lt;span style="color: #0000ff"&gt;null&lt;/span&gt;)&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum36" style="color: #606060"&gt;  36:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum37" style="color: #606060"&gt;  37:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum38" style="color: #606060"&gt;  38:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum39" style="color: #606060"&gt;  39:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum40" style="color: #606060"&gt;  40:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum41" style="color: #606060"&gt;  41:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// 初始化LuaFunctionAttribute对象实例。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum42" style="color: #606060"&gt;  42:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum43" style="color: #606060"&gt;  43:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;name&amp;quot;&amp;gt;函数名称。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum44" style="color: #606060"&gt;  44:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;description&amp;quot;&amp;gt;函数描述。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum45" style="color: #606060"&gt;  45:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;funcParams&amp;quot;&amp;gt;参数说明。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum46" style="color: #606060"&gt;  46:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; LuaFunctionAttribute(&lt;span style="color: #0000ff"&gt;string&lt;/span&gt; name, &lt;span style="color: #0000ff"&gt;string&lt;/span&gt; description, &lt;span style="color: #0000ff"&gt;params&lt;/span&gt; &lt;span style="color: #0000ff"&gt;string&lt;/span&gt;[] funcParams)&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum47" style="color: #606060"&gt;  47:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum48" style="color: #606060"&gt;  48:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.Name = name;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum49" style="color: #606060"&gt;  49:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.Description = description;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum50" style="color: #606060"&gt;  50:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.Params = funcParams;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum51" style="color: #606060"&gt;  51:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum52" style="color: #606060"&gt;  52:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum53" style="color: #606060"&gt;  53:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum54" style="color: #606060"&gt;  54:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// 函数名称。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum55" style="color: #606060"&gt;  55:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum56" style="color: #606060"&gt;  56:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;string&lt;/span&gt; Name&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum57" style="color: #606060"&gt;  57:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum58" style="color: #606060"&gt;  58:&lt;/span&gt;             get;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum59" style="color: #606060"&gt;  59:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;internal&lt;/span&gt; set;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum60" style="color: #606060"&gt;  60:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum61" style="color: #606060"&gt;  61:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum62" style="color: #606060"&gt;  62:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum63" style="color: #606060"&gt;  63:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// 函数描述。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum64" style="color: #606060"&gt;  64:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum65" style="color: #606060"&gt;  65:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;string&lt;/span&gt; Description&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum66" style="color: #606060"&gt;  66:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum67" style="color: #606060"&gt;  67:&lt;/span&gt;             get;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum68" style="color: #606060"&gt;  68:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;internal&lt;/span&gt; set;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum69" style="color: #606060"&gt;  69:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum70" style="color: #606060"&gt;  70:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum71" style="color: #606060"&gt;  71:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum72" style="color: #606060"&gt;  72:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// 参数说明。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum73" style="color: #606060"&gt;  73:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum74" style="color: #606060"&gt;  74:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;string&lt;/span&gt;[] Params&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum75" style="color: #606060"&gt;  75:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum76" style="color: #606060"&gt;  76:&lt;/span&gt;             get;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum77" style="color: #606060"&gt;  77:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;internal&lt;/span&gt; set;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum78" style="color: #606060"&gt;  78:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum79" style="color: #606060"&gt;  79:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum80" style="color: #606060"&gt;  80:&lt;/span&gt; }&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 用于C#向Lua暴露函数接口，实现C#方法与Lua脚本函数的绑定，也可以实现为把C#的方法暴露给Lua脚本调用，如以下代码：&lt;/p&gt;

&lt;div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; border-right: silver 1px solid; width: 97.5%; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; max-height: 200px; background-color: #f4f4f4"&gt;
  &lt;div id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; width: 100%; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; border-left-style: none; line-height: 12pt; padding-right: 0px; background-color: #f4f4f4"&gt;
    &lt;pre&gt;&lt;span id="lnum1" style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum2" style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #008000"&gt;/// 执行指定的非查询命令。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum3" style="color: #606060"&gt;   3:&lt;/span&gt; &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum4" style="color: #606060"&gt;   4:&lt;/span&gt; &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;commandText&amp;quot;&amp;gt;要执行的命令语句。该语句必须是标准的数据库语句。&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum5" style="color: #606060"&gt;   5:&lt;/span&gt; &lt;span style="color: #008000"&gt;/// &amp;lt;returns&amp;gt;返回命令影响的行数。&amp;lt;/returns&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum6" style="color: #606060"&gt;   6:&lt;/span&gt; [LuaFunction(&lt;span style="color: #006080"&gt;&amp;quot;ExecuteSql&amp;quot;&lt;/span&gt;, &lt;span style="color: #006080"&gt;&amp;quot;执行指定的非查询命令，返回执行所影响的行数。&amp;quot;&lt;/span&gt;, &lt;span style="color: #006080"&gt;&amp;quot;要执行的SQL语句&amp;quot;&lt;/span&gt;)]&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum7" style="color: #606060"&gt;   7:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;int&lt;/span&gt; Execute(&lt;span style="color: #0000ff"&gt;string&lt;/span&gt; commandText)&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum8" style="color: #606060"&gt;   8:&lt;/span&gt; {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum9" style="color: #606060"&gt;   9:&lt;/span&gt;     IDataAccessor da = &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.GetComponent();&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum10" style="color: #606060"&gt;  10:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (da != &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;)&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum11" style="color: #606060"&gt;  11:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum12" style="color: #606060"&gt;  12:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; da.Execute(commandText);&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum13" style="color: #606060"&gt;  13:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum14" style="color: #606060"&gt;  14:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum15" style="color: #606060"&gt;  15:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum16" style="color: #606060"&gt;  16:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; -1;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum17" style="color: #606060"&gt;  17:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum18" style="color: #606060"&gt;  18:&lt;/span&gt; }&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 其目标早实现C#方法Execute与Lua脚本函数ExecuteSql之间的绑定，当在Lua教本之中调用ExecuteSql，即会执行Execute方法。&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-size: large; color: #ff0000"&gt;&lt;strong&gt;LuaFramework&lt;/strong&gt;&lt;/span&gt;，Lua框架，为Lua脚本引用最重要的API：&lt;/p&gt;

&lt;div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; border-right: silver 1px solid; width: 97.5%; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; max-height: 200px; background-color: #f4f4f4"&gt;
  &lt;div id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; width: 100%; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; border-left-style: none; line-height: 12pt; padding-right: 0px; background-color: #f4f4f4"&gt;
    &lt;pre&gt;&lt;span id="lnum1" style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #cc6633"&gt;#region&lt;/span&gt; 程序集 EAS.LuaScript.dll, v4.0.30319&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum2" style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #008000"&gt;// G:\Health.Work\AgileEMR4.0\Publish\EAS.LuaScript.dll&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum3" style="color: #606060"&gt;   3:&lt;/span&gt; &lt;span style="color: #cc6633"&gt;#endregion&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum4" style="color: #606060"&gt;   4:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum5" style="color: #606060"&gt;   5:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum6" style="color: #606060"&gt;   6:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum7" style="color: #606060"&gt;   7:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; EAS.LuaScript&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum8" style="color: #606060"&gt;   8:&lt;/span&gt; {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum9" style="color: #606060"&gt;   9:&lt;/span&gt;     &lt;span style="color: #008000"&gt;// 摘要:&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum10" style="color: #606060"&gt;  10:&lt;/span&gt;     &lt;span style="color: #008000"&gt;//     Lua脚本执行框架/上下文。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum11" style="color: #606060"&gt;  11:&lt;/span&gt;     &lt;span style="color: #008000"&gt;//&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum12" style="color: #606060"&gt;  12:&lt;/span&gt;     &lt;span style="color: #008000"&gt;// 备注:&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum13" style="color: #606060"&gt;  13:&lt;/span&gt;     &lt;span style="color: #008000"&gt;//     应用系统之中调用Lua脚本的入口。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum14" style="color: #606060"&gt;  14:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;sealed&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; LuaFramework&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum15" style="color: #606060"&gt;  15:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum16" style="color: #606060"&gt;  16:&lt;/span&gt;         &lt;span style="color: #008000"&gt;// 摘要:&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum17" style="color: #606060"&gt;  17:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//     LuaFramework对象的唯一实例。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum18" style="color: #606060"&gt;  18:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; LuaFramework Instance { get; }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum19" style="color: #606060"&gt;  19:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum20" style="color: #606060"&gt;  20:&lt;/span&gt;         &lt;span style="color: #008000"&gt;// 摘要:&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum21" style="color: #606060"&gt;  21:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//     注册lua函数，实现Lua绑定。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum22" style="color: #606060"&gt;  22:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum23" style="color: #606060"&gt;  23:&lt;/span&gt;         &lt;span style="color: #008000"&gt;// 参数:&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum24" style="color: #606060"&gt;  24:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//   luaAPIClass:&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum25" style="color: #606060"&gt;  25:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//     lua函数类&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum26" style="color: #606060"&gt;  26:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff"&gt;void&lt;/span&gt; BindLuaFunctions(&lt;span style="color: #0000ff"&gt;object&lt;/span&gt; luaAPIClass);&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum27" style="color: #606060"&gt;  27:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum28" style="color: #606060"&gt;  28:&lt;/span&gt;         &lt;span style="color: #008000"&gt;// 摘要:&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum29" style="color: #606060"&gt;  29:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//     从应用程序上下文环境之中获取指定名称的对象实例。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum30" style="color: #606060"&gt;  30:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum31" style="color: #606060"&gt;  31:&lt;/span&gt;         &lt;span style="color: #008000"&gt;// 参数:&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum32" style="color: #606060"&gt;  32:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//   componentKey:&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum33" style="color: #606060"&gt;  33:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//     组件名称。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum34" style="color: #606060"&gt;  34:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum35" style="color: #606060"&gt;  35:&lt;/span&gt;         &lt;span style="color: #008000"&gt;// 返回结果:&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum36" style="color: #606060"&gt;  36:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//     对象实例。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum37" style="color: #606060"&gt;  37:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;object&lt;/span&gt; GetComponent(&lt;span style="color: #0000ff"&gt;string&lt;/span&gt; componentKey);&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum38" style="color: #606060"&gt;  38:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum39" style="color: #606060"&gt;  39:&lt;/span&gt;         &lt;span style="color: #008000"&gt;// 摘要:&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum40" style="color: #606060"&gt;  40:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//     Lua脚本引擎。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum41" style="color: #606060"&gt;  41:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; ILuaEngine GetLuaEngine();&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum42" style="color: #606060"&gt;  42:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum43" style="color: #606060"&gt;  43:&lt;/span&gt;         &lt;span style="color: #008000"&gt;// 摘要:&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum44" style="color: #606060"&gt;  44:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//     Lua脚本引擎。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum45" style="color: #606060"&gt;  45:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; ILuaEngine GetLuaEngine(&lt;span style="color: #0000ff"&gt;string&lt;/span&gt; scriptDirectory);&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum46" style="color: #606060"&gt;  46:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum47" style="color: #606060"&gt;  47:&lt;/span&gt;         &lt;span style="color: #008000"&gt;// 摘要:&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum48" style="color: #606060"&gt;  48:&lt;/span&gt;         &lt;span style="color: #008000"&gt;//     取系统时间。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum49" style="color: #606060"&gt;  49:&lt;/span&gt;         [LuaFunction(&lt;span style="color: #006080"&gt;&amp;quot;GetTime&amp;quot;&lt;/span&gt;, &lt;span style="color: #006080"&gt;&amp;quot;取系统时间&amp;quot;&lt;/span&gt;)]&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum50" style="color: #606060"&gt;  50:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; DateTime GetTime();&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum51" style="color: #606060"&gt;  51:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum52" style="color: #606060"&gt;  52:&lt;/span&gt; }&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 其中BindLuaFunctions方法实现C#方法与Lua函数的绑定注册，调用时传入需要注册方法所在的C#类对象实例即可。 
  &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; GetLuaEngine获取一个&lt;strong&gt;&lt;span style="font-size: large; color: #ff0000"&gt;ILuaEngine&lt;/span&gt;&lt;/strong&gt;，为之后的执行脚本作准备，调用GetLuaEngine可选传入scriptDirectory参数，scriptDirectory为Lua脚本存储目录。&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET SOA中间件已经为大家提供了少数的几个预定义API绑定：&lt;/p&gt;

&lt;div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; border-right: silver 1px solid; width: 97.5%; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; max-height: 200px; background-color: #f4f4f4"&gt;
  &lt;div id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; width: 100%; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; border-left-style: none; line-height: 12pt; padding-right: 0px; background-color: #f4f4f4"&gt;
    &lt;pre&gt;&lt;span id="lnum1" style="color: #606060"&gt;   1:&lt;/span&gt; helpcmd(cmdName) - Show help &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; a given command or package&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum2" style="color: #606060"&gt;   2:&lt;/span&gt; help() - List available commands.&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum3" style="color: #606060"&gt;   3:&lt;/span&gt; Include(luaFileName) - 预加载指定的脚本文件&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum4" style="color: #606060"&gt;   4:&lt;/span&gt; echo(message) - 显示Lua调试信息，用于Lua的动态调试。&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum5" style="color: #606060"&gt;   5:&lt;/span&gt; Echo(message) - 显示Lua调试信息，用于Lua的动态调试。&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum6" style="color: #606060"&gt;   6:&lt;/span&gt; WriteLog(message) - 写日志记录，用于Lua脚本的动态调试。&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum7" style="color: #606060"&gt;   7:&lt;/span&gt; GetTime() - 取系统时间&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum8" style="color: #606060"&gt;   8:&lt;/span&gt; GetComponent(componentKey) - 从应用程序上下文环境之中获取指定名称的对象实例&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum9" style="color: #606060"&gt;   9:&lt;/span&gt; GetAccount() - 求当前账户信息&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum10" style="color: #606060"&gt;  10:&lt;/span&gt; ExecuteSql(commandText) - 执行指定的非查询命令，返回执行所影响的行数。&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum11" style="color: #606060"&gt;  11:&lt;/span&gt; QuerySql(commandText, resultType) - 执行给定的数据库查询命令，返回执行结果，返回结果由resultType参数决定。&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum12" style="color: #606060"&gt;  12:&lt;/span&gt; QuerySqlScalar(commandText) - 执行给定的数据库查询命令，仅返回第一行第一列结果&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum13" style="color: #606060"&gt;  13:&lt;/span&gt; QuerySqlMatrix(commandText) - 执行给定的数据库查询命令，返回第一个查询结果Matrix&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum14" style="color: #606060"&gt;  14:&lt;/span&gt; QuerySqlDictionary(commandText) - 执行给定的数据库查询命令，返回第一行的Key-Value&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum15" style="color: #606060"&gt;  15:&lt;/span&gt; QuerySqlList(commandText) - 执行给定的数据库查询命令，返回第一行的Key-Value&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum16" style="color: #606060"&gt;  16:&lt;/span&gt; QuerySqlDataSet(commandText) - 执行给定的数据库查询命令，返回查询结果集&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum17" style="color: #606060"&gt;  17:&lt;/span&gt; QuerySqlDataTable(commandText) - 执行给定的数据库查询命令，返回查询结果集的第一个DataTable&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum18" style="color: #606060"&gt;  18:&lt;/span&gt; GetDataSet() - 求当前系统的帐套信息&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 大家也可以基于AgileEAS.NET SOA 平台Lua引擎扩展自己的LuaAPI。&lt;/p&gt;

&lt;h1&gt;四、AgileEAS.NET SOA平台Lua引擎应用案例&lt;/h1&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 在我12年的医疗行业开发之中，做过多年的电子病历，开发、指导开发过多套电子病历系统，在电子病历系统之中，有以下几个问题一直得不到好的解决方案：&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 在电子病历质控之中有一个自动质控评分，其由程序自动的预先为某个病案打出一个得分：&lt;/p&gt;

&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19112003-d76e3f170273483c91d22ebe3eecdf86.jpg"&gt;&lt;img title="]3L0{AR35LX4WKWXUAU}(2S" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="]3L0{AR35LX4WKWXUAU}(2S" src="http://images.cnitblog.com/blog/19020/201312/19112005-5eab2f9fc51d4fcf89cfa72ca1cc8d29.jpg" width="865" height="673" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 在没有使用Lua教本之前呢，也是能实现这种自动评分，但是为了实现这样的功能，系统设计之中就会要增加一些辅助的表和大量的辅助设计以帮助完成这样的功能，因为毕竟不存在统一的评分规则，所以这个设计会极其的复杂，以致于很难把这样的功能做好，或者说在成本和效益估量之中，得不偿失。&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 另外还有比较简单的例子就是电子病历之间的宏替换问题，在书写电子病历的过程之中需要动态的插入如病人基本信息、医院名称这样的东西进入病历，但是因为其数据源并不是唯一确定的，如果不使用动态脚本设计，那么其程序这中就会存在大量的硬编码，并且如果想要在后期实施阶段增加宏，那么则必须要修改程序才能完成。&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 下面我们就以自动评分案例向大家讲解一下是如何实现功能的呢：&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 首先，系统之中必须管理和维护用于自动评分的所有评分规则：&lt;/p&gt;

&lt;p&gt;&lt;a href="http://images.cnitblog.com/blog/19020/201312/19112007-c274ee8d33c94aee97be487e879945c4.jpg"&gt;&lt;img title="BF$CE1XPYCZES13DJ%Z4XP5" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="BF$CE1XPYCZES13DJ%Z4XP5" src="http://images.cnitblog.com/blog/19020/201312/19112009-b51593298ad949b5a5136628a469c6b8.jpg" width="999" height="509" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 这里与其他很多开发者的做法不一样的是，对于每个缺陷项目，我们都为其提供了一个评分规则的脚本的设计,例如对于缺陷“*缺入院记录”的评分脚本如下:&lt;/p&gt;

&lt;div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; border-right: silver 1px solid; width: 97.5%; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; max-height: 200px; background-color: #f4f4f4"&gt;
  &lt;div id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; width: 100%; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; border-left-style: none; line-height: 12pt; padding-right: 0px; background-color: #f4f4f4"&gt;
    &lt;pre&gt;&lt;span id="lnum1" style="color: #606060"&gt;   1:&lt;/span&gt; ---------------------------------------------------------------------------------------------&lt;span style="color: #008000"&gt;--&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum2" style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #008000"&gt;-- 创建人   :  魏琼东&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum3" style="color: #606060"&gt;   3:&lt;/span&gt; &lt;span style="color: #008000"&gt;-- 创建时间    : 2013-09-05&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum4" style="color: #606060"&gt;   4:&lt;/span&gt; &lt;span style="color: #008000"&gt;-- 效果备注    : *缺入院记录评分脚本。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum5" style="color: #606060"&gt;   5:&lt;/span&gt; &lt;span style="color: #008000"&gt;--               GetErrorNumber,求缺陷数量，由脚本计算出本缺陷数量&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum6" style="color: #606060"&gt;   6:&lt;/span&gt; --------------------------------------------------------------------------------------------&lt;span style="color: #008000"&gt;--&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum7" style="color: #606060"&gt;   7:&lt;/span&gt; ------------------------不怎么华丽的分割线------------------------------------&lt;span style="color: #008000"&gt;--&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum8" style="color: #606060"&gt;   8:&lt;/span&gt; function GetErrorNumber(patient,errorItem)&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum9" style="color: #606060"&gt;   9:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum10" style="color: #606060"&gt;  10:&lt;/span&gt;     --调用C#，求监控项目&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum11" style="color: #606060"&gt;  11:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;local&lt;/span&gt; monitorItem = GetMonitorItem(&amp;quot;B01&amp;quot;)    &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum12" style="color: #606060"&gt;  12:&lt;/span&gt;     --监控表达式,无表达式返回0&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum13" style="color: #606060"&gt;  13:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;local&lt;/span&gt; script = monitorItem.Expression&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum14" style="color: #606060"&gt;  14:&lt;/span&gt;     if script == nil &lt;span style="color: #0000ff"&gt;then&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum15" style="color: #606060"&gt;  15:&lt;/span&gt;         return 0&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum16" style="color: #606060"&gt;  16:&lt;/span&gt;     elseif script == &amp;quot;&amp;quot; &lt;span style="color: #0000ff"&gt;then&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum17" style="color: #606060"&gt;  17:&lt;/span&gt;         return 0&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum18" style="color: #606060"&gt;  18:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;end&lt;/span&gt;    &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum19" style="color: #606060"&gt;  19:&lt;/span&gt;     &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum20" style="color: #606060"&gt;  20:&lt;/span&gt;     --加载监控脚本&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum21" style="color: #606060"&gt;  21:&lt;/span&gt;     ExecuteScript(script)&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum22" style="color: #606060"&gt;  22:&lt;/span&gt;     --执行监控函数NeedWrite，如果需要写则预标存在此缺陷&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum23" style="color: #606060"&gt;  23:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;local&lt;/span&gt; need = NeedWrite(patient,monitorItem)&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum24" style="color: #606060"&gt;  24:&lt;/span&gt;     &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum25" style="color: #606060"&gt;  25:&lt;/span&gt;     if need == 1 &lt;span style="color: #0000ff"&gt;then&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum26" style="color: #606060"&gt;  26:&lt;/span&gt;         return 1&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum27" style="color: #606060"&gt;  27:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum28" style="color: #606060"&gt;  28:&lt;/span&gt;         return 0&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum29" style="color: #606060"&gt;  29:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;end&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum30" style="color: #606060"&gt;  30:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum31" style="color: #606060"&gt;  31:&lt;/span&gt; end&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;这样的设计的目标是将缺陷的评分动作都由Lua脚本实现，而在应用程序之中并不存在针对缺陷制定不同的评分规则的情况，只有调用脚本进行评分的代码：&lt;/p&gt;

&lt;div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; border-right: silver 1px solid; width: 97.5%; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; max-height: 200px; background-color: #f4f4f4"&gt;
  &lt;div id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; width: 100%; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; border-left-style: none; line-height: 12pt; padding-right: 0px; background-color: #f4f4f4"&gt;
    &lt;pre&gt;&lt;span id="lnum1" style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum2" style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #008000"&gt;/// 求指定患者、指定缺陷的缺陷数。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum3" style="color: #606060"&gt;   3:&lt;/span&gt; &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum4" style="color: #606060"&gt;   4:&lt;/span&gt; &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;pRoot&amp;quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum5" style="color: #606060"&gt;   5:&lt;/span&gt; &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;errorItem&amp;quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum6" style="color: #606060"&gt;   6:&lt;/span&gt; &lt;span style="color: #008000"&gt;/// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum7" style="color: #606060"&gt;   7:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; static &lt;span style="color: #0000ff"&gt;int&lt;/span&gt; GetErrorNumber(ILuaEngine m_Lua, PatientRoot pRoot, ErrorDict errorItem)&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum8" style="color: #606060"&gt;   8:&lt;/span&gt; {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum9" style="color: #606060"&gt;   9:&lt;/span&gt;     if (string.IsNullOrEmpty(errorItem.Expression))  &lt;span style="color: #008000"&gt;//无评分脚本&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum10" style="color: #606060"&gt;  10:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum11" style="color: #606060"&gt;  11:&lt;/span&gt;         return 0;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum12" style="color: #606060"&gt;  12:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum13" style="color: #606060"&gt;  13:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum14" style="color: #606060"&gt;  14:&lt;/span&gt;     string m_file = &lt;span style="color: #0000ff"&gt;System&lt;/span&gt;.IO.Path.Combine(LuaEx.ScriptDirectory, string.Format(&amp;quot;emr\\error\\{0}.lua&amp;quot;, errorItem.ErrorCode));&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum15" style="color: #606060"&gt;  15:&lt;/span&gt;     if (!&lt;span style="color: #0000ff"&gt;System&lt;/span&gt;.IO.File.&lt;span style="color: #0000ff"&gt;Exists&lt;/span&gt;(m_file))&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum16" style="color: #606060"&gt;  16:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum17" style="color: #606060"&gt;  17:&lt;/span&gt;         return 0;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum18" style="color: #606060"&gt;  18:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum19" style="color: #606060"&gt;  19:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum20" style="color: #606060"&gt;  20:&lt;/span&gt;     try&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum21" style="color: #606060"&gt;  21:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum22" style="color: #606060"&gt;  22:&lt;/span&gt;         m_Lua.DoFile(m_file);  &lt;span style="color: #008000"&gt;//加载脚本&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum23" style="color: #606060"&gt;  23:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum24" style="color: #606060"&gt;  24:&lt;/span&gt;         object[] vs = m_Lua.Invoke(&amp;quot;GetErrorNumber&amp;quot;, pRoot, errorItem);  &lt;span style="color: #008000"&gt;//执行函数。&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum25" style="color: #606060"&gt;  25:&lt;/span&gt;         if (vs != &lt;span style="color: #0000ff"&gt;null&lt;/span&gt; &amp;amp;&amp;amp; vs.Length &amp;gt; 0)&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum26" style="color: #606060"&gt;  26:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum27" style="color: #606060"&gt;  27:&lt;/span&gt;             return &lt;span style="color: #0000ff"&gt;int&lt;/span&gt;.Parse(vs[0].ToString());&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum28" style="color: #606060"&gt;  28:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum29" style="color: #606060"&gt;  29:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum30" style="color: #606060"&gt;  30:&lt;/span&gt;         {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum31" style="color: #606060"&gt;  31:&lt;/span&gt;             return 0;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum32" style="color: #606060"&gt;  32:&lt;/span&gt;         }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum33" style="color: #606060"&gt;  33:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum34" style="color: #606060"&gt;  34:&lt;/span&gt;     catch&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum35" style="color: #606060"&gt;  35:&lt;/span&gt;     {&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum36" style="color: #606060"&gt;  36:&lt;/span&gt;         return 0;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum37" style="color: #606060"&gt;  37:&lt;/span&gt;     }&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre&gt;&lt;span id="lnum38" style="color: #606060"&gt;  38:&lt;/span&gt; }&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;这样的好处在于，主体程序变的极其的简单一致，不需要各种判断和各种规则，并且灵活自动，可以做到政策变化或者客户需求变化导到的各种评分规则的修改，则会灵活自如。&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 实践证明，使用动态脚本语言扩展现在系统的系统是一种低投入高产出的工作，对于应对这种高扩展性和高定制性的项目是一个非常好的选择，这个可以解释游戏编程之中大量使用Lua语言的事实，针对NPC、剧情书写相关的处理脚本，让游戏的后期变更，调整变得简单可行。&lt;/p&gt;

&lt;h1&gt;四、联系我们&lt;/h1&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 为完善、改进和推广AgileEAS.NET而成立了敏捷软件工程实验室，是一家研究、推广和发展新技术，并致力于提供具有自主知识产权的业务基础平台软件，以及基于业务基础平台开发的管理软件的专业软件提供商。主要业务是为客户提供软件企业研发管理解决方案、企业管理软件开发，以及相关的技术支持，管理及技术咨询与培训业务。&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; AgileEAS.NET SOA中间件平台自2004年秋呱呱落地一来，我就一直在逐步完善和改进，也被应用于保险、医疗、电子商务、房地产、铁路、教育等多个应用，但一直都是以我个人在推广，2010年因为我辞职休息，我就想到把AgileEAS.NET推向市场，让更多的人使用。&lt;/p&gt;

&lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 我的技术团队成员都是合作多年的老朋友，因为这个平台是免费的，所以也没有什么收入，都是由程序员的那种理想与信念坚持，在此我感谢一起奋斗的朋友。&lt;/p&gt;

&lt;p&gt;团队网站：&lt;a href="http://eastjade.cnblogs.com"&gt;http://www.agilelab.cn&lt;/a&gt;，&lt;/p&gt;

&lt;p&gt;AgileEAS.NET网站：&lt;a href="http://www.smarteas.net"&gt;http://www.smarteas.net&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;官方博客:&lt;a href="http://eastjade.cnblogs.com"&gt;http://eastjade.cnblogs.com&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;QQ:47920381,AgileEAS.NET&lt;/p&gt;

&lt;p&gt;QQ群：113723486（AgileEAS SOA 平台）/上限1000人&lt;/p&gt;

&lt;p&gt;199463175（AgileEAS SOA 交流）/上限1000人&lt;/p&gt;

&lt;p&gt;212867943（AgileEAS.NET研究）/上限500人&lt;/p&gt;

&lt;p&gt;147168308（AgileEAS.NET应用）/上限500人&lt;/p&gt;

&lt;p&gt;172060626（深度AgileEAS.NET平台）/上限500人&lt;/p&gt;

&lt;p&gt;116773358（AgileEAS.NET 平台）/上限500人&lt;/p&gt;

&lt;p&gt;125643764（AgileEAS.NET探讨）/上限500人&lt;/p&gt;

&lt;p&gt;193486983（AgileEAS.NET 平台）/上限500人&lt;/p&gt;

&lt;p&gt;邮件:james@agilelab.cn,mail.james@qq.com,&lt;/p&gt;

&lt;p&gt;电话：18629261335。&lt;/p&gt;</summary>
    <published>2013-12-19T03:38:32+00:00</published>
    <link rel="related" href="http://smarteas.net/post/2013/12/19/如何使用Lua脚本语言开发出高扩展性的系统，AgileEASNET-SOA中间件平台Lua脚本引擎介绍.aspx#comment" />
    <category term=".NET" />
    <category term="SOA" />
    <category term="Socket" />
    <category term="中间件" />
    <category term="云计算" />
    <category term="分布式" />
    <category term="设计模式" />
    <category term="消息中间件" />
    <category term="框架" />
    <category term="Lua" />
    <category term="动态脚本" />
    <category term="EMR" />
    <category term="平台" />
    <category term="电子病历" />
    <dc:publisher>james</dc:publisher>
    <pingback:server>http://smarteas.net/pingback.axd</pingback:server>
    <pingback:target>http://smarteas.net/post.aspx?id=e11d4fae-8bb6-4d44-9ea5-0a6d252e13c3</pingback:target>
    <slash:comments>0</slash:comments>
    <trackback:ping>http://smarteas.net/trackback.axd?id=e11d4fae-8bb6-4d44-9ea5-0a6d252e13c3</trackback:ping>
    <wfw:comment>http://smarteas.net/post/2013/12/19/如何使用Lua脚本语言开发出高扩展性的系统，AgileEASNET-SOA中间件平台Lua脚本引擎介绍.aspx#comment</wfw:comment>
    <wfw:commentRss>http://smarteas.net/syndication.axd?post=e11d4fae-8bb6-4d44-9ea5-0a6d252e13c3</wfw:commentRss>
  </entry>
</feed>